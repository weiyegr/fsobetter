/*
 * jQuery UI 1.8.17
 *
 * Copyright 2011, AUTHORS.txt (http://jqueryui.com/about)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * http://jquery.org/license
 *
 * http://docs.jquery.com/UI
 */
(function(D,B){function A(E){return !D(E).parents().andSelf().filter(function(){return D.curCSS(this,"visibility")==="hidden"||D.expr.filters.hidden(this)}).length}function C(H,I){var G=H.nodeName.toLowerCase();if("area"===G){var J=H.parentNode,E=J.name,F;if(!H.href||!E||J.nodeName.toLowerCase()!=="map"){return !1}F=D("img[usemap=#"+E+"]")[0];return !!F&&A(F)}return(/input|select|textarea|button|object/.test(G)?!H.disabled:"a"==G?H.href||I:I)&&A(H)}D.ui=D.ui||{};D.ui.version||(D.extend(D.ui,{version:"1.8.17",keyCode:{ALT:18,BACKSPACE:8,CAPS_LOCK:20,COMMA:188,COMMAND:91,COMMAND_LEFT:91,COMMAND_RIGHT:93,CONTROL:17,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,INSERT:45,LEFT:37,MENU:93,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SHIFT:16,SPACE:32,TAB:9,UP:38,WINDOWS:91}}),D.fn.extend({propAttr:D.fn.prop||D.fn.attr,_focus:D.fn.focus,focus:function(E,F){return typeof E=="number"?this.each(function(){var G=this;setTimeout(function(){D(G).focus(),F&&F.call(G)},E)}):this._focus.apply(this,arguments)},scrollParent:function(){var E;D.browser.msie&&/(static|relative)/.test(this.css("position"))||/absolute/.test(this.css("position"))?E=this.parents().filter(function(){return/(relative|absolute|fixed)/.test(D.curCSS(this,"position",1))&&/(auto|scroll)/.test(D.curCSS(this,"overflow",1)+D.curCSS(this,"overflow-y",1)+D.curCSS(this,"overflow-x",1))}).eq(0):E=this.parents().filter(function(){return/(auto|scroll)/.test(D.curCSS(this,"overflow",1)+D.curCSS(this,"overflow-y",1)+D.curCSS(this,"overflow-x",1))}).eq(0);return/fixed/.test(this.css("position"))||!E.length?D(document):E},zIndex:function(G){if(G!==B){return this.css("zIndex",G)}if(this.length){var E=D(this[0]),F,H;while(E.length&&E[0]!==document){F=E.css("position");if(F==="absolute"||F==="relative"||F==="fixed"){H=parseInt(E.css("zIndex"),10);if(!isNaN(H)&&H!==0){return H}}E=E.parent()}}return 0},disableSelection:function(){return this.bind((D.support.selectstart?"selectstart":"mousedown")+".ui-disableSelection",function(E){E.preventDefault()})},enableSelection:function(){return this.unbind(".ui-disableSelection")}}),D.each(["Width","Height"],function(I,F){function E(L,M,K,N){D.each(G,function(){M-=parseFloat(D.curCSS(L,"padding"+this,!0))||0,K&&(M-=parseFloat(D.curCSS(L,"border"+this+"Width",!0))||0),N&&(M-=parseFloat(D.curCSS(L,"margin"+this,!0))||0)});return M}var G=F==="Width"?["Left","Right"]:["Top","Bottom"],J=F.toLowerCase(),H={innerWidth:D.fn.innerWidth,innerHeight:D.fn.innerHeight,outerWidth:D.fn.outerWidth,outerHeight:D.fn.outerHeight};D.fn["inner"+F]=function(K){if(K===B){return H["inner"+F].call(this)}return this.each(function(){D(this).css(J,E(this,K)+"px")})},D.fn["outer"+F]=function(K,L){if(typeof K!="number"){return H["outer"+F].call(this,K)}return this.each(function(){D(this).css(J,E(this,K,!0,L)+"px")})}}),D.extend(D.expr[":"],{data:function(F,G,E){return !!D.data(F,E[3])},focusable:function(E){return C(E,!isNaN(D.attr(E,"tabindex")))},tabbable:function(G){var E=D.attr(G,"tabindex"),F=isNaN(E);return(F||E>=0)&&C(G,!F)}}),D(function(){var E=document.body,F=E.appendChild(F=document.createElement("div"));D.extend(F.style,{minHeight:"100px",height:"auto",padding:0,borderWidth:0}),D.support.minHeight=F.offsetHeight===100,D.support.selectstart="onselectstart" in F,E.removeChild(F).style.display="none"}),D.extend(D.ui,{plugin:{add:function(G,H,E){var F=D.ui[G].prototype;for(var I in E){F.plugins[I]=F.plugins[I]||[],F.plugins[I].push([H,E[I]])}},call:function(I,G,H){var E=I.plugins[G];if(!!E&&!!I.element[0].parentNode){for(var F=0;F<E.length;F++){I.options[E[F][0]]&&E[F][1].apply(I.element,H)}}}},contains:function(F,E){return document.compareDocumentPosition?F.compareDocumentPosition(E)&16:F!==E&&F.contains(E)},hasScroll:function(G,H){if(D(G).css("overflow")==="hidden"){return !1}var E=H&&H==="left"?"scrollLeft":"scrollTop",F=!1;if(G[E]>0){return !0}G[E]=1,F=G[E]>0,G[E]=0;return F},isOverAxis:function(G,E,F){return G>E&&G<E+F},isOver:function(H,I,F,G,J,E){return D.ui.isOverAxis(H,F,J)&&D.ui.isOverAxis(I,G,E)}}))})(jQuery);
/*
 * jQuery UI Widget 1.8.17
 *
 * Copyright 2011, AUTHORS.txt (http://jqueryui.com/about)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * http://jquery.org/license
 *
 * http://docs.jquery.com/UI/Widget
 */
(function(D,B){if(D.cleanData){var C=D.cleanData;D.cleanData=function(G){for(var E=0,F;(F=G[E])!=null;E++){try{D(F).triggerHandler("remove")}catch(H){}}C(G)}}else{var A=D.fn.remove;D.fn.remove=function(E,F){return this.each(function(){F||(!E||D.filter(E,[this]).length)&&D("*",this).add([this]).each(function(){try{D(this).triggerHandler("remove")}catch(G){}});return A.call(D(this),E,F)})}}D.widget=function(H,I,F){var G=H.split(".")[0],J;H=H.split(".")[1],J=G+"-"+H,F||(F=I,I=D.Widget),D.expr[":"][J]=function(K){return !!D.data(K,H)},D[G]=D[G]||{},D[G][H]=function(L,K){arguments.length&&this._createWidget(L,K)};var E=new I;E.options=D.extend(!0,{},E.options),D[G][H].prototype=D.extend(!0,E,{namespace:G,widgetName:H,widgetEventPrefix:D[G][H].prototype.widgetEventPrefix||H,widgetBaseClass:J},F),D.widget.bridge(H,D[G][H])},D.widget.bridge=function(F,E){D.fn[F]=function(I){var J=typeof I=="string",G=Array.prototype.slice.call(arguments,1),H=this;I=!J&&G.length?D.extend.apply(null,[!0,I].concat(G)):I;if(J&&I.charAt(0)==="_"){return H}J?this.each(function(){var K=D.data(this,F),L=K&&D.isFunction(K[I])?K[I].apply(K,G):K;if(L!==K&&L!==B){H=L;return !1}}):this.each(function(){var K=D.data(this,F);K?K.option(I||{})._init():D.data(this,F,new E(I,this))});return H}},D.Widget=function(F,E){arguments.length&&this._createWidget(F,E)},D.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",options:{disabled:!1},_createWidget:function(F,G){D.data(G,this.widgetName,this),this.element=D(G),this.options=D.extend(!0,{},this.options,this._getCreateOptions(),F);var E=this;this.element.bind("remove."+this.widgetName,function(){E.destroy()}),this._create(),this._trigger("create"),this._init()},_getCreateOptions:function(){return D.metadata&&D.metadata.get(this.element[0])[this.widgetName]},_create:function(){},_init:function(){},destroy:function(){this.element.unbind("."+this.widgetName).removeData(this.widgetName),this.widget().unbind("."+this.widgetName).removeAttr("aria-disabled").removeClass(this.widgetBaseClass+"-disabled ui-state-disabled")},widget:function(){return this.element},option:function(G,E){var F=G;if(arguments.length===0){return D.extend({},this.options)}if(typeof G=="string"){if(E===B){return this.options[G]}F={},F[G]=E}this._setOptions(F);return this},_setOptions:function(E){var F=this;D.each(E,function(H,G){F._setOption(H,G)});return this},_setOption:function(F,E){this.options[F]=E,F==="disabled"&&this.widget()[E?"addClass":"removeClass"](this.widgetBaseClass+"-disabled ui-state-disabled").attr("aria-disabled",E);return this},enable:function(){return this._setOption("disabled",!1)},disable:function(){return this._setOption("disabled",!0)},_trigger:function(H,I,F){var G,J,E=this.options[H];F=F||{},I=D.Event(I),I.type=(H===this.widgetEventPrefix?H:this.widgetEventPrefix+H).toLowerCase(),I.target=this.element[0],J=I.originalEvent;if(J){for(G in J){G in I||(I[G]=J[G])}}this.element.trigger(I,F);return !(D.isFunction(E)&&E.call(this.element[0],I,F)===!1||I.isDefaultPrevented())}}})(jQuery);
/*
 * jQuery UI Mouse 1.8.17
 *
 * Copyright 2011, AUTHORS.txt (http://jqueryui.com/about)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * http://jquery.org/license
 *
 * http://docs.jquery.com/UI/Mouse
 *
 * Depends:
 *	jquery.ui.widget.js
 */
(function(C,A){var B=!1;C(document).mouseup(function(D){B=!1}),C.widget("ui.mouse",{options:{cancel:":input,option",distance:1,delay:0},_mouseInit:function(){var D=this;this.element.bind("mousedown."+this.widgetName,function(E){return D._mouseDown(E)}).bind("click."+this.widgetName,function(E){if(!0===C.data(E.target,D.widgetName+".preventClickEvent")){C.removeData(E.target,D.widgetName+".preventClickEvent"),E.stopImmediatePropagation();return !1}}),this.started=!1},_mouseDestroy:function(){this.element.unbind("."+this.widgetName)},_mouseDown:function(F){if(!B){this._mouseStarted&&this._mouseUp(F),this._mouseDownEvent=F;var D=this,E=F.which==1,G=typeof this.options.cancel=="string"&&F.target.nodeName?C(F.target).closest(this.options.cancel).length:!1;if(!E||G||!this._mouseCapture(F)){return !0}this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){D.mouseDelayMet=!0},this.options.delay));if(this._mouseDistanceMet(F)&&this._mouseDelayMet(F)){this._mouseStarted=this._mouseStart(F)!==!1;if(!this._mouseStarted){F.preventDefault();return !0}}!0===C.data(F.target,this.widgetName+".preventClickEvent")&&C.removeData(F.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(H){return D._mouseMove(H)},this._mouseUpDelegate=function(H){return D._mouseUp(H)},C(document).bind("mousemove."+this.widgetName,this._mouseMoveDelegate).bind("mouseup."+this.widgetName,this._mouseUpDelegate),F.preventDefault(),B=!0;return !0}},_mouseMove:function(D){if(C.browser.msie&&!(document.documentMode>=9)&&!D.button){return this._mouseUp(D)}if(this._mouseStarted){this._mouseDrag(D);return D.preventDefault()}this._mouseDistanceMet(D)&&this._mouseDelayMet(D)&&(this._mouseStarted=this._mouseStart(this._mouseDownEvent,D)!==!1,this._mouseStarted?this._mouseDrag(D):this._mouseUp(D));return !this._mouseStarted},_mouseUp:function(D){C(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,D.target==this._mouseDownEvent.target&&C.data(D.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(D));return !1},_mouseDistanceMet:function(D){return Math.max(Math.abs(this._mouseDownEvent.pageX-D.pageX),Math.abs(this._mouseDownEvent.pageY-D.pageY))>=this.options.distance},_mouseDelayMet:function(D){return this.mouseDelayMet},_mouseStart:function(D){},_mouseDrag:function(D){},_mouseStop:function(D){},_mouseCapture:function(D){return !0}})})(jQuery);(function(B,A){B.widget("ui.draggable",B.ui.mouse,{widgetEventPrefix:"drag",options:{addClasses:true,appendTo:"parent",axis:false,connectToSortable:false,containment:false,cursor:"auto",cursorAt:false,grid:false,handle:false,helper:"original",iframeFix:false,opacity:false,refreshPositions:false,revert:false,revertDuration:500,scope:"default",scroll:true,scrollSensitivity:20,scrollSpeed:20,snap:false,snapMode:"both",snapTolerance:20,stack:false,zIndex:false,concernAngle:false},_create:function(){if(this.options.helper=="original"&&!(/^(?:r|a|f)/).test(this.element.css("position"))){this.element[0].style.position="relative"}(this.options.addClasses&&this.element.addClass("ui-draggable"));(this.options.disabled&&this.element.addClass("ui-draggable-disabled"));this._mouseInit()},destroy:function(){if(!this.element.data("draggable")){return}this.element.removeData("draggable").unbind(".draggable").removeClass("ui-draggable ui-draggable-dragging ui-draggable-disabled");this._mouseDestroy();return this},_mouseCapture:function(D){var C=this.options;if(this.helper||C.disabled||B(D.target).is(".ui-resizable-handle,.ui-resizable-handle>.knob")){return false}this.handle=this._getHandle(D);if(!this.handle){return false}if(C.iframeFix){B(C.iframeFix===true?"iframe":C.iframeFix).each(function(){B('<div class="ui-draggable-iframeFix" style="background: #fff;"></div>').css({width:this.offsetWidth+"px",height:this.offsetHeight+"px",position:"absolute",opacity:"0.001",zIndex:1000}).css(B(this).offset()).appendTo("body")})}return true},_mouseStart:function(E){var D=this.options;this.helper=this._createHelper(E);this._cacheHelperProportions();if(B.ui.ddmanager){B.ui.ddmanager.current=this}this._cacheMargins();this.cssPosition=this.helper.css("position");this.scrollParent=this.helper.scrollParent();this.offset=this.positionAbs=this.element.offset();if(D.concernAngle){var C=this.element.parent().offset();this.offset=this.positionAbs={left:C.left+B.parseInteger(this.element.css("left")),top:C.top+B.parseInteger(this.element.css("top"))}}this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left};B.extend(this.offset,{click:{left:E.pageX-this.offset.left,top:E.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()});this.originalPosition=this.position=this._generatePosition(E);if(D.concernAngle){this.originalPosition.left=B.parseInteger(this.element.css("left"))}this.originalPageX=E.pageX;this.originalPageY=E.pageY;(D.cursorAt&&this._adjustOffsetFromHelper(D.cursorAt));if(D.containment){this._setContainment()}if(this._trigger("start",E)===false){this._clear();return false}this._cacheHelperProportions();if(B.ui.ddmanager&&!D.dropBehaviour){B.ui.ddmanager.prepareOffsets(this,E)}this.helper.addClass("ui-draggable-dragging");this._mouseDrag(E,true);if(B.ui.ddmanager){B.ui.ddmanager.dragStart(this,E)}return true},_mouseDrag:function(E,D){this.position=this._generatePosition(E);this.positionAbs=this._convertPositionTo("absolute");if(!D){var C=this._uiHash();if(this._trigger("drag",E,C)===false){this._mouseUp({});return false}this.position=C.position}if(!this.options.axis||this.options.axis!="y"){this.helper[0].style.left=this.position.left+"px"}if(!this.options.axis||this.options.axis!="x"){this.helper[0].style.top=this.position.top+"px"}if(B.ui.ddmanager){B.ui.ddmanager.drag(this,E)}return false},_mouseStop:function(E){var D=false;if(B.ui.ddmanager&&!this.options.dropBehaviour){D=B.ui.ddmanager.drop(this,E)}if(this.dropped){D=this.dropped;this.dropped=false}if((!this.element[0]||!this.element[0].parentNode)&&this.options.helper=="original"){return false}if((this.options.revert=="invalid"&&!D)||(this.options.revert=="valid"&&D)||this.options.revert===true||(B.isFunction(this.options.revert)&&this.options.revert.call(this.element,D))){var C=this;B(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),function(){if(C._trigger("stop",E)!==false){C._clear()}})}else{if(this._trigger("stop",E)!==false){this._clear()}}return false},_mouseUp:function(C){if(this.options.iframeFix===true){B("div.ui-draggable-iframeFix").each(function(){this.parentNode.removeChild(this)})}if(B.ui.ddmanager){B.ui.ddmanager.dragStop(this,C)}return B.ui.mouse.prototype._mouseUp.call(this,C)},cancel:function(){if(this.helper.is(".ui-draggable-dragging")){this._mouseUp({})}else{this._clear()}return this},_getHandle:function(D){var C=!this.options.handle||!B(this.options.handle,this.element).length?true:false;B(this.options.handle,this.element).find("*").andSelf().each(function(){if(this==D.target){C=true}});return C},_createHelper:function(D){var C=this.options;var E=B.isFunction(C.helper)?B(C.helper.apply(this.element[0],[D])):(C.helper=="clone"?this.element.clone().removeAttr("id"):this.element);if(!E.parents("body").length){E.appendTo((C.appendTo=="parent"?this.element[0].parentNode:C.appendTo))}if(E[0]!=this.element[0]&&!(/(fixed|absolute)/).test(E.css("position"))){E.css("position","absolute")}return E},_adjustOffsetFromHelper:function(C){if(typeof C=="string"){C=C.split(" ")}if(B.isArray(C)){C={left:+C[0],top:+C[1]||0}}if("left" in C){this.offset.click.left=C.left+this.margins.left}if("right" in C){this.offset.click.left=this.helperProportions.width-C.right+this.margins.left}if("top" in C){this.offset.click.top=C.top+this.margins.top}if("bottom" in C){this.offset.click.top=this.helperProportions.height-C.bottom+this.margins.top}},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var C=this.offsetParent.offset();if(this.cssPosition=="absolute"&&this.scrollParent[0]!=document&&B.ui.contains(this.scrollParent[0],this.offsetParent[0])){C.left+=this.scrollParent.scrollLeft();C.top+=this.scrollParent.scrollTop()}if((this.offsetParent[0]==document.body)||(this.offsetParent[0].tagName&&this.offsetParent[0].tagName.toLowerCase()=="html"&&B.browser.msie)){C={top:0,left:0}}return{top:C.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:C.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if(this.cssPosition=="relative"){var C=this.element.position();return{top:C.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:C.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}else{return{top:0,left:0}}},_cacheMargins:function(){this.margins={left:(parseInt(this.element.css("marginLeft"),10)||0),top:(parseInt(this.element.css("marginTop"),10)||0),right:(parseInt(this.element.css("marginRight"),10)||0),bottom:(parseInt(this.element.css("marginBottom"),10)||0)}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var D=this.options;if(D.containment=="parent"){D.containment=this.helper[0].parentNode}if(D.containment=="document"||D.containment=="window"){this.containment=[D.containment=="document"?0:B(window).scrollLeft()-this.offset.relative.left-this.offset.parent.left,D.containment=="document"?0:B(window).scrollTop()-this.offset.relative.top-this.offset.parent.top,(D.containment=="document"?0:B(window).scrollLeft())+B(D.containment=="document"?document:window).width()-this.helperProportions.width-this.margins.left,(D.containment=="document"?0:B(window).scrollTop())+(B(D.containment=="document"?document:window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]}if(!(/^(document|window|parent)$/).test(D.containment)&&D.containment.constructor!=Array){var F=B(D.containment);var G=F[0];if(!G){return}var C=F.offset();var E=(B(G).css("overflow")!="hidden");this.containment=[(parseInt(B(G).css("borderLeftWidth"),10)||0)+(parseInt(B(G).css("paddingLeft"),10)||0),(parseInt(B(G).css("borderTopWidth"),10)||0)+(parseInt(B(G).css("paddingTop"),10)||0),(E?Math.max(G.scrollWidth,G.offsetWidth):G.offsetWidth)-(parseInt(B(G).css("borderLeftWidth"),10)||0)-(parseInt(B(G).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left-this.margins.right,(E?Math.max(G.scrollHeight,G.offsetHeight):G.offsetHeight)-(parseInt(B(G).css("borderTopWidth"),10)||0)-(parseInt(B(G).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top-this.margins.bottom];this.relative_container=F}else{if(D.containment.constructor==Array){this.containment=D.containment}}},_convertPositionTo:function(C,E){if(!E){E=this.position}var H=C=="absolute"?1:-1;var D=this.options,G=this.cssPosition=="absolute"&&!(this.scrollParent[0]!=document&&B.ui.contains(this.scrollParent[0],this.offsetParent[0]))?this.offsetParent:this.scrollParent,F=(/(html|body)/i).test(G[0].tagName);return{top:(E.top+this.offset.relative.top*H+this.offset.parent.top*H-(B.browser.safari&&B.browser.version<526&&this.cssPosition=="fixed"?0:(this.cssPosition=="fixed"?-this.scrollParent.scrollTop():(F?0:G.scrollTop()))*H)),left:(E.left+this.offset.relative.left*H+this.offset.parent.left*H-(B.browser.safari&&B.browser.version<526&&this.cssPosition=="fixed"?0:(this.cssPosition=="fixed"?-this.scrollParent.scrollLeft():F?0:G.scrollLeft())*H))}},_generatePosition:function(G){var K=this.options,L=this.cssPosition=="absolute"&&!(this.scrollParent[0]!=document&&B.ui.contains(this.scrollParent[0],this.offsetParent[0]))?this.offsetParent:this.scrollParent,C=(/(html|body)/i).test(L[0].tagName);var I=G.pageX;var H=G.pageY;if(this.originalPosition){var J;if(this.containment){if(this.relative_container){var F=this.relative_container.offset();J=[this.containment[0]+F.left,this.containment[1]+F.top,this.containment[2]+F.left,this.containment[3]+F.top]}else{J=this.containment}if(G.pageX-this.offset.click.left<J[0]){I=J[0]+this.offset.click.left}if(G.pageY-this.offset.click.top<J[1]){H=J[1]+this.offset.click.top}if(G.pageX-this.offset.click.left>J[2]){I=J[2]+this.offset.click.left}if(G.pageY-this.offset.click.top>J[3]){H=J[3]+this.offset.click.top}}if(K.grid){var D=K.grid[1]?this.originalPageY+Math.round((H-this.originalPageY)/K.grid[1])*K.grid[1]:this.originalPageY;H=J?(!(D-this.offset.click.top<J[1]||D-this.offset.click.top>J[3])?D:(!(D-this.offset.click.top<J[1])?D-K.grid[1]:D+K.grid[1])):D;var E=K.grid[0]?this.originalPageX+Math.round((I-this.originalPageX)/K.grid[0])*K.grid[0]:this.originalPageX;I=J?(!(E-this.offset.click.left<J[0]||E-this.offset.click.left>J[2])?E:(!(E-this.offset.click.left<J[0])?E-K.grid[0]:E+K.grid[0])):E}}return{top:(H-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+(B.browser.safari&&B.browser.version<526&&this.cssPosition=="fixed"?0:(this.cssPosition=="fixed"?-this.scrollParent.scrollTop():(C?0:L.scrollTop())))),left:(I-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+(B.browser.safari&&B.browser.version<526&&this.cssPosition=="fixed"?0:(this.cssPosition=="fixed"?-this.scrollParent.scrollLeft():C?0:L.scrollLeft())))}},_clear:function(){this.helper.removeClass("ui-draggable-dragging");if(this.helper[0]!=this.element[0]&&!this.cancelHelperRemoval){this.helper.remove()}this.helper=null;this.cancelHelperRemoval=false},_trigger:function(C,E,D){D=D||this._uiHash();B.ui.plugin.call(this,C,[E,D]);if(C=="drag"){this.positionAbs=this._convertPositionTo("absolute")}return B.Widget.prototype._trigger.call(this,C,E,D)},plugins:{},_uiHash:function(C){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs}}});B.extend(B.ui.draggable,{version:"1.8.17"});B.ui.plugin.add("draggable","connectToSortable",{start:function(F,C){var E=B(this).data("draggable"),D=E.options,G=B.extend({},C,{item:E.element});E.sortables=[];B(D.connectToSortable).each(function(){var H=B.data(this,"sortable");if(H&&!H.options.disabled){E.sortables.push({instance:H,shouldRevert:H.options.revert});H.refreshPositions();H._trigger("activate",F,G)}})},stop:function(E,C){var D=B(this).data("draggable"),F=B.extend({},C,{item:D.element});B.each(D.sortables,function(){if(this.instance.isOver){this.instance.isOver=0;D.cancelHelperRemoval=true;this.instance.cancelHelperRemoval=false;if(this.shouldRevert){this.instance.options.revert=true}this.instance._mouseStop(E);this.instance.options.helper=this.instance.options._helper;if(D.options.helper=="original"){this.instance.currentItem.css({top:"auto",left:"auto"})}}else{this.instance.cancelHelperRemoval=false;this.instance._trigger("deactivate",E,F)}})},drag:function(G,C){var F=B(this).data("draggable"),D=this;var E=function(L){var M=this.offset.click.top,J=this.offset.click.left;var O=this.positionAbs.top,N=this.positionAbs.left;var I=L.height,P=L.width;var K=L.top,H=L.left;return B.ui.isOver(O+M,N+J,K,H,I,P)};B.each(F.sortables,function(H){this.instance.positionAbs=F.positionAbs;this.instance.helperProportions=F.helperProportions;this.instance.offset.click=F.offset.click;if(this.instance._intersectsWith(this.instance.containerCache)){if(!this.instance.isOver){this.instance.isOver=1;this.instance.currentItem=B(D).clone().removeAttr("id").appendTo(this.instance.element).data("sortable-item",true);this.instance.options._helper=this.instance.options.helper;this.instance.options.helper=function(){return C.helper[0]};G.target=this.instance.currentItem[0];this.instance._mouseCapture(G,true);this.instance._mouseStart(G,true,true);this.instance.offset.click.top=F.offset.click.top;this.instance.offset.click.left=F.offset.click.left;this.instance.offset.parent.left-=F.offset.parent.left-this.instance.offset.parent.left;this.instance.offset.parent.top-=F.offset.parent.top-this.instance.offset.parent.top;F._trigger("toSortable",G);F.dropped=this.instance.element;F.currentItem=F.element;this.instance.fromOutside=F}if(this.instance.currentItem){this.instance._mouseDrag(G)}}else{if(this.instance.isOver){this.instance.isOver=0;this.instance.cancelHelperRemoval=true;this.instance.options.revert=false;this.instance._trigger("out",G,this.instance._uiHash(this.instance));this.instance._mouseStop(G,true);this.instance.options.helper=this.instance.options._helper;this.instance.currentItem.remove();if(this.instance.placeholder){this.instance.placeholder.remove()}F._trigger("fromSortable",G);F.dropped=false}}})}});B.ui.plugin.add("draggable","cursor",{start:function(E,C){var F=B("body"),D=B(this).data("draggable").options;if(F.css("cursor")){D._cursor=F.css("cursor")}F.css("cursor",D.cursor)},stop:function(E,C){var D=B(this).data("draggable").options;if(D._cursor){B("body").css("cursor",D._cursor)}}});B.ui.plugin.add("draggable","opacity",{start:function(E,C){var F=B(C.helper),D=B(this).data("draggable").options;if(F.css("opacity")){D._opacity=F.css("opacity")}F.css("opacity",D.opacity)},stop:function(E,C){var D=B(this).data("draggable").options;if(D._opacity){B(C.helper).css("opacity",D._opacity)}}});B.ui.plugin.add("draggable","scroll",{start:function(E,C){var D=B(this).data("draggable");if(D.scrollParent[0]!=document&&D.scrollParent[0].tagName!="HTML"){D.overflowOffset=D.scrollParent.offset()}},drag:function(G,C){var D=B(this).data("draggable"),E=D.options,F=false;if(D.scrollParent[0]!=document&&D.scrollParent[0].tagName!="HTML"){if(!E.axis||E.axis!="x"){if((D.overflowOffset.top+D.scrollParent[0].offsetHeight)-G.pageY<E.scrollSensitivity){D.scrollParent[0].scrollTop=F=D.scrollParent[0].scrollTop+E.scrollSpeed}else{if(G.pageY-D.overflowOffset.top<E.scrollSensitivity){D.scrollParent[0].scrollTop=F=D.scrollParent[0].scrollTop-E.scrollSpeed}}}if(!E.axis||E.axis!="y"){if((D.overflowOffset.left+D.scrollParent[0].offsetWidth)-G.pageX<E.scrollSensitivity){D.scrollParent[0].scrollLeft=F=D.scrollParent[0].scrollLeft+E.scrollSpeed}else{if(G.pageX-D.overflowOffset.left<E.scrollSensitivity){D.scrollParent[0].scrollLeft=F=D.scrollParent[0].scrollLeft-E.scrollSpeed}}}}else{if(!E.axis||E.axis!="x"){if(G.pageY-B(document).scrollTop()<E.scrollSensitivity){F=B(document).scrollTop(B(document).scrollTop()-E.scrollSpeed)}else{if(B(window).height()-(G.pageY-B(document).scrollTop())<E.scrollSensitivity){F=B(document).scrollTop(B(document).scrollTop()+E.scrollSpeed)}}}if(!E.axis||E.axis!="y"){if(G.pageX-B(document).scrollLeft()<E.scrollSensitivity){F=B(document).scrollLeft(B(document).scrollLeft()-E.scrollSpeed)}else{if(B(window).width()-(G.pageX-B(document).scrollLeft())<E.scrollSensitivity){F=B(document).scrollLeft(B(document).scrollLeft()+E.scrollSpeed)}}}}if(F!==false&&B.ui.ddmanager&&!E.dropBehaviour){B.ui.ddmanager.prepareOffsets(D,G)}}});B.ui.plugin.add("draggable","snap",{start:function(F,C){var D=B(this).data("draggable"),E=D.options;D.snapElements=[];B(E.snap.constructor!=String?(E.snap.items||":data(draggable)"):E.snap).each(function(){var H=B(this);var G=H.offset();if(this!=D.element[0]){D.snapElements.push({item:this,width:H.outerWidth(),height:H.outerHeight(),top:G.top,left:G.left})}})},drag:function(O,G){var L=B(this).data("draggable"),J=L.options;var N=J.snapTolerance;var Q=G.offset.left,S=Q+L.helperProportions.width,R=G.offset.top,T=R+L.helperProportions.height;for(var H=L.snapElements.length-1;H>=0;H--){var K=L.snapElements[H].left,C=K+L.snapElements[H].width,F=L.snapElements[H].top,M=F+L.snapElements[H].height;if(!((K-N<Q&&Q<C+N&&F-N<R&&R<M+N)||(K-N<Q&&Q<C+N&&F-N<T&&T<M+N)||(K-N<S&&S<C+N&&F-N<R&&R<M+N)||(K-N<S&&S<C+N&&F-N<T&&T<M+N))){if(L.snapElements[H].snapping){(L.options.snap.release&&L.options.snap.release.call(L.element,O,B.extend(L._uiHash(),{snapItem:L.snapElements[H].item})))}L.snapElements[H].snapping=false;continue}if(J.snapMode!="inner"){var E=Math.abs(F-T)<=N;var I=Math.abs(M-R)<=N;var P=Math.abs(K-S)<=N;var U=Math.abs(C-Q)<=N;if(E){G.position.top=L._convertPositionTo("relative",{top:F-L.helperProportions.height,left:0}).top-L.margins.top}if(I){G.position.top=L._convertPositionTo("relative",{top:M,left:0}).top-L.margins.top}if(P){G.position.left=L._convertPositionTo("relative",{top:0,left:K-L.helperProportions.width}).left-L.margins.left}if(U){G.position.left=L._convertPositionTo("relative",{top:0,left:C}).left-L.margins.left}}var D=(E||I||P||U);if(J.snapMode!="outer"){var E=Math.abs(F-R)<=N;var I=Math.abs(M-T)<=N;var P=Math.abs(K-Q)<=N;var U=Math.abs(C-S)<=N;if(E){G.position.top=L._convertPositionTo("relative",{top:F,left:0}).top-L.margins.top}if(I){G.position.top=L._convertPositionTo("relative",{top:M-L.helperProportions.height,left:0}).top-L.margins.top}if(P){G.position.left=L._convertPositionTo("relative",{top:0,left:K}).left-L.margins.left}if(U){G.position.left=L._convertPositionTo("relative",{top:0,left:C-L.helperProportions.width}).left-L.margins.left}}if(!L.snapElements[H].snapping&&(E||I||P||U||D)){(L.options.snap.snap&&L.options.snap.snap.call(L.element,O,B.extend(L._uiHash(),{snapItem:L.snapElements[H].item})))}L.snapElements[H].snapping=(E||I||P||U||D)}}});B.ui.plugin.add("draggable","wopop_snap",{start:function(I,D){var J=B(this).data("draggable"),L=J.options;J.snapElements=[];var K=L.wopop_snap;if(!K){return}if(B(this).data("deg")){return}if(!B(this).is(".cstlayer")){return}var F=false;B(".ui-modselected").each(function(){B(this).data("left",B(this).css("left"));B(this).data("top",B(this).css("top"));B(this).data("width",B(this).css("width"));B(this).data("height",B(this).css("height"));if(B(this).data("cstlayerstatus")=="unlock"){F=true}});if(F){return}if(B(this).closest(".fullpagesection").length){return}var H=B(this).ab_pos_cnter("top")-J.originalPosition.top;J.wopop_ab_top=H;var N=[];var O=[];var P=[];var G=[];function C(R,T){for(var Q=0;Q<T.length;Q++){var S=T[Q];if(Math.abs(S-R)<2){return 1}}return -1}function E(){N=[];O=[];P=[];G=[];B("#scroll_container .rulerguide").removeClass("showline");J.snapElements=[]}function M(){E();B(".rulerh:visible .rulerguide").each(function(){var Q=B(this);var R=parseInt(Q.css("left"))||0;if(C(R,N)==-1){var S={item:this,top:0,left:R};J.snapElements.push(S);N.push(R);Q.data("snapel",S)}});B(".rulerv:visible .rulerguide").each(function(){var Q=B(this);var S=parseInt(Q.css("top"))||0;if(C(S,O)==-1){var R={item:this,top:S,left:0};J.snapElements.push(R);O.push(S);Q.data("snapel",R)}})}B(this).unbind("layersnapstart").bind("layersnapstart",function(){});M();B(this).trigger("layersnapstart")},drag:function(S,G){var L=B(this).data("draggable"),I=L.options;var C=I.wopop_snap;if(!C){return}if(B(this).data("deg")){return}if(!B(this).is(".cstlayer")){return}var M="outer";var O=5;var N=B("#scroll_container").scrollTop();var W=L.ori_scct;if(N!=W){B(this).trigger("layersnapstart")}var R=L.wopop_ab_top;for(var H=L.snapElements.length-1;H>=0;H--){var U=G.position.left;if(U<0){U=0}var X=U+L.helperProportions.width,V=G.position.top+R,Y=V+L.helperProportions.height;var J=L.snapElements[H].left,Q=J+L.snapElements[H].width,F=L.snapElements[H].top,P=F+L.snapElements[H].height;var T=Math.abs(J-U)<=O;var Z=Math.abs(J-X)<=O;var E=Math.abs(F-V)<=O;var K=Math.abs(F-Y)<=O;if(B(L.snapElements[H].item).closest(".rulerh").length){E=false;K=false}else{T=false;Z=false}if(T){G.position.left=G.position.left+J-U}if(Z){G.position.left=G.position.left+(J-X)}if(E){G.position.top=G.position.top+F-V}if(K){G.position.top=G.position.top+F-Y}var D=(E||K||T||Z);if((E||K||T||Z||D)){if(B(L.snapElements[H].item).closest(".rulerh").length){B(".rulerh .rulerguide.showline").each(function(){var c=B(this).data("snapel");var b=c.left;var d=G.position.left,a=d+L.helperProportions.width;if(!(Math.abs(b-d)<0.5||Math.abs(b-a)<0.5)){B(this).removeClass("showline")}})}else{B(".rulerv .rulerguide.showline").each(function(){var b=B(this).data("snapel");var c=b.top;var d=G.position.top+R,a=d+L.helperProportions.height;if(!(Math.abs(c-d)<0.5||Math.abs(c-a)<0.5)){B(this).removeClass("showline")}})}B(L.snapElements[H].item).addClass("showline")}else{L.snapElements[H].snapping=false;B(L.snapElements[H].item).removeClass("showline");continue}L.snapElements[H].snapping=(E||K||T||Z||D)}},stop:function(D,C){B(".rulerguide").removeClass("showline");B(this).unbind("layersnapstart")}});B.ui.plugin.add("draggable","wopop_snap2",{start:function(H,D){return;var J=B(this).data("draggable"),L=J.options;var K=L.wopop_snap;if(!K){return}if(B(this).data("deg")){return}if(!B(this).is(".cstlayer")){return}var E=false;B(".ui-modselected").each(function(){B(this).data("left",B(this).css("left"));B(this).data("top",B(this).css("top"));B(this).data("width",B(this).css("width"));B(this).data("height",B(this).css("height"));if(B(this).data("cstlayerstatus")=="unlock"){E=true}});if(E){return}if(B(this).closest(".fullpagesection").length){return}J.snapElements=[];var G=B(this).ab_pos_cnter("top")-J.originalPosition.top;J.wopop_ab_top=G;var M=[];var N=[];function C(P,R){for(var O=0;O<R.length;O++){var Q=R[O];if(Math.abs(Q-P)<2){return 1}}return -1}function F(){M=[];N=[];B(".wopop_snap").remove();J.snapElements=[]}function I(S){var P=parseInt(S.ab_pos_cnter("top"))||0;var U=P+parseInt(S.css("height"))||0;var T=parseInt(S.css("left"))||0;var O=T+parseInt(S.css("width"))||0;var R=B("#canvas").offset().left-B("#scroll_container").offset().left;var Q=B("#scroll_container_bg").height();var V=B("#scroll_container").scrollTop();J.ori_scct=V;if(C(P,N)==-1){N.push(P);var W="<div class='wopop_snap_horizon wopop_snap' style='top:"+P+"px;'></div>";B("#scroll_container").append(W)}if(C(U,N)==-1){N.push(U);var W="<div class='wopop_snap_horizon wopop_snap' style='top:"+U+"px;'></div>";B("#scroll_container").append(W)}if(C(T,M)==-1){M.push(T);var W="<div class='wopop_snap_vertical wopop_snap' style='left:"+(R+T)+"px;height:"+Q+"px;'></div>";B("#scroll_container").append(W)}if(C(O,M)==-1){M.push(O);var W="<div class='wopop_snap_vertical wopop_snap' style='left:"+(R+O)+"px;height:"+Q+"px;'></div>";B("#scroll_container").append(W)}}B(this).unbind("layersnapstart").bind("layersnapstart",function(){F();if(B.getElementAreaInf(B(this))=="canvas"){B("#canvas .cstlayer:not(.ui-modselected)").each(function(){I(B(this))})}else{B("#scroll_container .cstlayer:not(.ui-modselected)").each(function(){I(B(this))})}J.snapElements=[];var P=B("#scroll_container").scrollTop();var O=B("#canvas").offset().left;B(".wopop_snap").each(function(){var S=B(this);var R=S.offset();if(S.is(".wopop_snap_vertical")){var Q={item:this,width:0,height:S.outerHeight(),top:0,left:R.left-O};J.snapElements.push(Q);B(this).data("snapel",Q)}else{var Q={item:this,width:S.outerWidth(),height:0,top:parseInt(S.css("top"))||0,left:0};J.snapElements.push(Q);B(this).data("snapel",Q)}})});B(this).trigger("layersnapstart")},drag:function(S,G){return;var L=B(this).data("draggable"),I=L.options;var C=I.wopop_snap;if(!C){return}if(B(this).data("deg")){return}if(!B(this).is(".cstlayer")){return}var M="outer";var O=3;var N=B("#scroll_container").scrollTop();var W=L.ori_scct;if(N!=W){B(this).trigger("layersnapstart")}var R=L.wopop_ab_top;for(var H=L.snapElements.length-1;H>=0;H--){var U=G.position.left,X=U+L.helperProportions.width,V=G.position.top+R,Y=V+L.helperProportions.height;var J=L.snapElements[H].left,Q=J+L.snapElements[H].width,F=L.snapElements[H].top,P=F+L.snapElements[H].height;var T=Math.abs(J-U)<=O;var Z=Math.abs(J-X)<=O;var E=Math.abs(F-V)<=O;var K=Math.abs(F-Y)<=O;if(T){G.position.left=G.position.left+J-U}if(Z){G.position.left=G.position.left+(J-X)}if(E){G.position.top=G.position.top+F-V}if(K){G.position.top=G.position.top+F-Y}var D=(E||K||T||Z);if((E||K||T||Z||D)){if(B(L.snapElements[H].item).is(".wopop_snap_vertical")){B(".wopop_snap_vertical.showline").each(function(){var c=B(this).data("snapel");var b=c.left;var d=G.position.left,a=d+L.helperProportions.width;if(!(Math.abs(b-d)<0.5||Math.abs(b-a)<0.5)){B(this).removeClass("showline")}})}else{B(".wopop_snap_horizon.showline").each(function(){var b=B(this).data("snapel");var c=b.top;var d=G.position.top+R,a=d+L.helperProportions.height;if(!(Math.abs(c-d)<0.5||Math.abs(c-a)<0.5)){B(this).removeClass("showline")}})}B(L.snapElements[H].item).addClass("showline")}else{L.snapElements[H].snapping=false;B(L.snapElements[H].item).removeClass("showline");continue}L.snapElements[H].snapping=(E||K||T||Z||D)}},stop:function(D,C){return;B(".wopop_snap").remove();B(this).unbind("layersnapstart")}});B.ui.plugin.add("draggable","stack",{start:function(F,C){var E=B(this).data("draggable").options;var D=B.makeArray(B(E.stack)).sort(function(I,H){return(parseInt(B(I).css("zIndex"),10)||0)-(parseInt(B(H).css("zIndex"),10)||0)});if(!D.length){return}var G=parseInt(D[0].style.zIndex)||0;B(D).each(function(H){this.style.zIndex=G+H});this[0].style.zIndex=G+D.length}});B.ui.plugin.add("draggable","zIndex",{start:function(E,C){var F=B(C.helper),D=B(this).data("draggable").options;if(F.css("zIndex")){D._zIndex=F.css("zIndex")}F.css("zIndex",D.zIndex)},stop:function(E,C){var D=B(this).data("draggable").options;if(D._zIndex){B(C.helper).css("zIndex",D._zIndex)}}})})(jQuery);(function(B,A){B.widget("ui.droppable",{widgetEventPrefix:"drop",options:{accept:"*",activeClass:!1,addClasses:!0,greedy:!1,hoverClass:!1,scope:"default",tolerance:"intersect"},_create:function(){var C=this.options,D=C.accept;this.isover=0,this.isout=1,this.accept=B.isFunction(D)?D:function(E){return E.is(D)},this.proportions={width:this.element[0].offsetWidth,height:this.element[0].offsetHeight},B.ui.ddmanager.droppables[C.scope]=B.ui.ddmanager.droppables[C.scope]||[],B.ui.ddmanager.droppables[C.scope].push(this),C.addClasses&&this.element.addClass("ui-droppable")},destroy:function(){var C=B.ui.ddmanager.droppables[this.options.scope];for(var D=0;D<C.length;D++){C[D]==this&&C.splice(D,1)}this.element.removeClass("ui-droppable ui-droppable-disabled").removeData("droppable").unbind(".droppable");return this},_setOption:function(C,D){C=="accept"&&(this.accept=B.isFunction(D)?D:function(E){return E.is(D)}),B.Widget.prototype._setOption.apply(this,arguments)},_activate:function(C){var D=B.ui.ddmanager.current;this.options.activeClass&&this.element.addClass(this.options.activeClass),D&&this._trigger("activate",C,this.ui(D))},_deactivate:function(C){var D=B.ui.ddmanager.current;this.options.activeClass&&this.element.removeClass(this.options.activeClass),D&&this._trigger("deactivate",C,this.ui(D))},_over:function(C){var D=B.ui.ddmanager.current;!!D&&(D.currentItem||D.element)[0]!=this.element[0]&&this.accept.call(this.element[0],D.currentItem||D.element)&&(this.options.hoverClass&&this.element.addClass(this.options.hoverClass),this._trigger("over",C,this.ui(D)))},_out:function(C){var D=B.ui.ddmanager.current;!!D&&(D.currentItem||D.element)[0]!=this.element[0]&&this.accept.call(this.element[0],D.currentItem||D.element)&&(this.options.hoverClass&&this.element.removeClass(this.options.hoverClass),this._trigger("out",C,this.ui(D)))},_drop:function(E,F){var C=F||B.ui.ddmanager.current;if(!C||(C.currentItem||C.element)[0]==this.element[0]){return !1}var D=!1;this.element.find(":data(droppable)").not(".ui-draggable-dragging").each(function(){var G=B.data(this,"droppable");if(G.options.greedy&&!G.options.disabled&&G.options.scope==C.options.scope&&G.accept.call(G.element[0],C.currentItem||C.element)&&B.ui.intersect(C,B.extend(G,{offset:G.element.offset()}),G.options.tolerance)){D=!0;return !1}});if(D){return !1}if(this.accept.call(this.element[0],C.currentItem||C.element)){this.options.activeClass&&this.element.removeClass(this.options.activeClass),this.options.hoverClass&&this.element.removeClass(this.options.hoverClass),this._trigger("drop",E,this.ui(C));return this.element}return !1},ui:function(C){return{draggable:C.currentItem||C.element,helper:C.helper,position:C.position,offset:C.positionAbs}}}),B.extend(B.ui.droppable,{version:"1.8.17"}),B.ui.intersect=function(L,M,P){if(!M.offset){return !1}var C=(L.positionAbs||L.position.absolute).left,N=C+L.helperProportions.width,O=(L.positionAbs||L.position.absolute).top,F=O+L.helperProportions.height,G=M.offset.left,D=G+M.proportions.width,E=M.offset.top,J=E+M.proportions.height;switch(P){case"fit":return G<=C&&N<=D&&E<=O&&F<=J;case"intersect":return G<C+L.helperProportions.width/2&&N-L.helperProportions.width/2<D&&E<O+L.helperProportions.height/2&&F-L.helperProportions.height/2<J;case"pointer":var K=(L.positionAbs||L.position.absolute).left+(L.clickOffset||L.offset.click).left,H=(L.positionAbs||L.position.absolute).top+(L.clickOffset||L.offset.click).top,I=B.ui.isOver(H,K,E,G,M.proportions.height,M.proportions.width);return I;case"touch":return(O>=E&&O<=J||F>=E&&F<=J||O<E&&F>J)&&(C>=G&&C<=D||N>=G&&N<=D||C<G&&N>D);default:return !1}},B.ui.ddmanager={current:null,droppables:{"default":[]},prepareOffsets:function(G,H){var D=B.ui.ddmanager.droppables[G.options.scope]||[],E=H?H.type:null,I=(G.currentItem||G.element).find(":data(droppable)").andSelf();droppablesLoop:for(var C=0;C<D.length;C++){if(D[C].options.disabled||G&&!D[C].accept.call(D[C].element[0],G.currentItem||G.element)){continue}for(var F=0;F<I.length;F++){if(I[F]==D[C].element[0]){D[C].proportions.height=0;continue droppablesLoop}}D[C].visible=D[C].element.css("display")!="none";if(!D[C].visible){continue}E=="mousedown"&&D[C]._activate.call(D[C],H),D[C].offset=D[C].element.offset(),D[C].proportions={width:D[C].element[0].offsetWidth,height:D[C].element[0].offsetHeight}}},drop:function(D,E){var C=!1;B.each(B.ui.ddmanager.droppables[D.options.scope]||[],function(){!this.options||(!this.options.disabled&&this.visible&&B.ui.intersect(D,this,this.options.tolerance)&&(C=this._drop.call(this,E)||C),!this.options.disabled&&this.visible&&this.accept.call(this.element[0],D.currentItem||D.element)&&(this.isout=1,this.isover=0,this._deactivate.call(this,E)))});return C},dragStart:function(C,D){C.element.parents(":not(body,html)").bind("scroll.droppable",function(){C.options.refreshPositions||B.ui.ddmanager.prepareOffsets(C,D)})},drag:function(C,D){C.options.refreshPositions&&B.ui.ddmanager.prepareOffsets(C,D),B.each(B.ui.ddmanager.droppables[C.options.scope]||[],function(){if(!(this.options.disabled||this.greedyChild||!this.visible)){var F=B.ui.intersect(C,this,this.options.tolerance),G=!F&&this.isover==1?"isout":F&&this.isover==0?"isover":null;if(!G){return}var H;if(this.options.greedy){var E=this.element.parents(":data(droppable):eq(0)");E.length&&(H=B.data(E[0],"droppable"),H.greedyChild=G=="isover"?1:0)}H&&G=="isover"&&(H.isover=0,H.isout=1,H._out.call(H,D)),this[G]=1,this[G=="isout"?"isover":"isout"]=0,this[G=="isover"?"_over":"_out"].call(this,D),H&&G=="isout"&&(H.isout=0,H.isover=1,H._over.call(H,D))}})},dragStop:function(C,D){C.element.parents(":not(body,html)").unbind("scroll.droppable"),C.options.refreshPositions||B.ui.ddmanager.prepareOffsets(C,D)}}})(jQuery);(function(D,B){D.widget("ui.resizable",D.ui.mouse,{widgetEventPrefix:"resize",options:{alsoResize:false,animate:false,animateDuration:"slow",animateEasing:"swing",aspectRatio:false,aspectFunc:false,autoHide:false,containment:false,ghost:false,grid:false,handles:"e,s,se",helper:false,scroll:false,scrollSensitivity:20,scrollSpeed:20,maxHeight:null,maxWidth:null,minHeight:10,minWidth:10,zIndex:1000,concernAngle:false,concernLock:false},_create:function(){var G=this,H=this.options;this.element.addClass("ui-resizable");D.extend(this,{_aspectRatio:!!(H.aspectRatio),aspectRatio:H.aspectRatio,originalElement:this.element,_proportionallyResizeElements:[],_helper:H.helper||H.ghost||H.animate?H.helper||"ui-resizable-helper":null});if(this.element[0].nodeName.match(/canvas|textarea|input|select|button|img/i)){if(/relative/.test(this.element.css("position"))&&D.browser.opera){this.element.css({position:"relative",top:"auto",left:"auto"})}this.element.wrap(D('<div class="ui-wrapper" style="overflow: hidden;"></div>').css({position:this.element.css("position"),width:this.element.outerWidth(),height:this.element.outerHeight(),top:this.element.css("top"),left:this.element.css("left")}));this.element=this.element.parent().data("resizable",this.element.data("resizable"));this.elementIsWrapper=true;this.element.css({marginLeft:this.originalElement.css("marginLeft"),marginTop:this.originalElement.css("marginTop"),marginRight:this.originalElement.css("marginRight"),marginBottom:this.originalElement.css("marginBottom")});this.originalElement.css({marginLeft:0,marginTop:0,marginRight:0,marginBottom:0});this.originalResizeStyle=this.originalElement.css("resize");this.originalElement.css("resize","none");this._proportionallyResizeElements.push(this.originalElement.css({position:"static",zoom:1,display:"block"}));this.originalElement.css({margin:this.originalElement.css("margin")});this._proportionallyResize()}this.handles=H.handles||(!D(".ui-resizable-handle",this.element).length?"e,s,se":{n:".ui-resizable-n",e:".ui-resizable-e",s:".ui-resizable-s",w:".ui-resizable-w",se:".ui-resizable-se",sw:".ui-resizable-sw",ne:".ui-resizable-ne",nw:".ui-resizable-nw"});if(this.handles.constructor==String){if(this.handles=="all"){this.handles="n,e,s,w,se,sw,ne,nw"}var I=this.handles.split(",");this.handles={};for(var F=0;F<I.length;F++){var E=D.trim(I[F]),J="ui-resizable-"+E;var K=D('<div class="ui-resizable-handle '+J+'"></div>');if(/sw|se|ne|nw/.test(E)){K.css({zIndex:++H.zIndex})}if("se"==E){K.addClass("ui-icon ui-icon-gripsmall-diagonal-se")}this.handles[E]=".ui-resizable-"+E;this.element.append(K)}}this._renderAxis=function(O){O=O||this.element;for(var L in this.handles){if(this.handles[L].constructor==String){this.handles[L]=D(this.handles[L],this.element).show()}if(this.elementIsWrapper&&this.originalElement[0].nodeName.match(/textarea|input|select|button/i)){var P=D(this.handles[L],this.element),N=0;N=/sw|ne|nw|se|n|s/.test(L)?P.outerHeight():P.outerWidth();var M=["padding",/ne|nw|n/.test(L)?"Top":/se|sw|s/.test(L)?"Bottom":/^e$/.test(L)?"Right":"Left"].join("");O.css(M,N);this._proportionallyResize()}if(!D(this.handles[L]).length){continue}}};this._renderAxis(this.element);this._handles=D(".ui-resizable-handle",this.element).disableSelection();this._handles.mouseover(function(){if(!G.resizing){if(this.className){var L=this.className.match(/ui-resizable-(se|sw|ne|nw|n|e|s|w)/i)}G.axis=L&&L[1]?L[1]:"se"}});if(H.autoHide){this._handles.hide();D(this.element).addClass("ui-resizable-autohide").hover(function(){if(H.disabled){return}D(this).removeClass("ui-resizable-autohide");G._handles.show()},function(){if(H.disabled){return}if(!G.resizing){D(this).addClass("ui-resizable-autohide");G._handles.hide()}})}this._mouseInit()},destroy:function(){this._mouseDestroy();var F=function(G){D(G).removeClass("ui-resizable ui-resizable-disabled ui-resizable-resizing").removeData("resizable").unbind(".resizable").find(".ui-resizable-handle").remove()};if(this.elementIsWrapper){F(this.element);var E=this.element;E.after(this.originalElement.css({position:E.css("position"),width:E.outerWidth(),height:E.outerHeight(),top:E.css("top"),left:E.css("left")})).remove()}this.originalElement.css("resize",this.originalResizeStyle);F(this.originalElement);return this},_mouseCapture:function(G){var E=false;for(var F in this.handles){if(D(G.target).is(".down_arrow,.up_arrow")){return false}if(D(this.handles[F])[0]==G.target||D(this.handles[F])[0]==G.target.parentNode){E=true}}var H=true;if(this.options.concernLock&&this.element.data("cstlayerstatus")=="unlock"){H=false}return !this.options.disabled&&E&&H},_mouseStart:function(I){var G=this.options,H=this.element.position(),E=this.element;this.resizing=true;this.documentScroll={top:D(document).scrollTop(),left:D(document).scrollLeft()};if(!G.concernAngle&&!G.noinit){if(E.is(".ui-draggable")||(/absolute/).test(E.css("position"))){E.css({position:"absolute",top:H.top,left:H.left})}}if(D.browser.opera&&(/relative/).test(E.css("position"))){E.css({position:"relative",top:"auto",left:"auto"})}this._renderProxy();var K=C(this.helper.css("left")),J=C(this.helper.css("top"));if(G.containment){K+=D(G.containment).scrollLeft()||0;J+=D(G.containment).scrollTop()||0}this.offset=this.helper.offset();this.position={left:K,top:J};if(D.browser.msie&&D.browser.version<9&&E.data("deg")%360!=0){this.size={width:E.data("IEWidth"),height:E.data("IEHeight")}}else{this.size=this._helper?{width:E.outerWidth(),height:E.outerHeight()}:{width:E.width(),height:E.height()}}this.originalSize=this._helper?{width:E.outerWidth(),height:E.outerHeight()}:{width:E.width(),height:E.height()};this.originalPosition={left:K,top:J};this.sizeDiff={width:E.outerWidth()-E.width(),height:E.outerHeight()-E.height()};this.originalMousePosition={left:I.pageX,top:I.pageY};if(G.scroll&&(!G.concernAngle||G.concernAngle&&!this.element.data("deg"))){this.scrollParent=this.element.scrollParent();this.originalMousePosition.top+=this.scrollParent.scrollTop()}this.aspectRatio=(typeof G.aspectRatio=="number")?G.aspectRatio:((this.originalSize.width/this.originalSize.height)||1);if(G.concernAngle){D.divrotate.getDegreeResizeCursor(this.element)}var F=this.element.find(".ui-resizable-"+this.axis).css("cursor");D("body").css("cursor",F=="auto"?this.axis+"-resize":F);E.addClass("ui-resizable-resizing");this._propagate("start",I);return true},_mouseDrag:function(H){var J=this.helper,L=this.options,I={},O=this,R=this.originalMousePosition,Q=this.axis;var K=H.pageY;if(L.scroll&&(!L.concernAngle||L.concernAngle&&!this.element.data("deg"))){K+=this.scrollParent.scrollTop()}var N=(H.pageX-R.left)||0,M=(K-R.top)||0;var E=this._change[Q];if(!E){return false}var G=E.apply(this,[H,N,M]),F=D.browser.msie&&D.browser.version<7,P=this.sizeDiff;this._updateVirtualBoundaries(H.shiftKey);if(!D.isFunction(L.aspectFunc)&&(this._aspectRatio||H.shiftKey)){G=this._updateRatio(G,H)}else{if(D.isFunction(L.aspectFunc)){G=this._updateAFunc(G,H)}}G=this._respectSize(G,H);this._propagate("resize",H);J.css({top:this.position.top+"px",left:this.position.left+"px",width:this.size.width+"px",height:this.size.height+"px"});if(!this._helper&&this._proportionallyResizeElements.length){this._proportionallyResize()}this._updateCache(G);this._trigger("resize",H,this.ui());return false},_mouseStop:function(I){this.resizing=false;var M=this.options,K=this;if(this._helper){var F=this._proportionallyResizeElements,E=F.length&&(/textarea/i).test(F[0].nodeName),L=E&&D.ui.hasScroll(F[0],"left")?0:K.sizeDiff.height,N=E?0:K.sizeDiff.width;var G={width:(K.helper.width()-N),height:(K.helper.height()-L)},H=(parseInt(K.element.css("left"),10)+(K.position.left-K.originalPosition.left))||null,J=(parseInt(K.element.css("top"),10)+(K.position.top-K.originalPosition.top))||null;if(!M.animate){this.element.css(D.extend(G,{top:J,left:H}))}K.helper.height(K.size.height);K.helper.width(K.size.width);if(this._helper&&!M.animate){this._proportionallyResize()}}D("body").css("cursor","auto");this.element.removeClass("ui-resizable-resizing");this._propagate("stop",I);if(this._helper){this.helper.remove()}return false},_updateVirtualBoundaries:function(H){var E=this.options,I,J,G,F,K;K={minWidth:A(E.minWidth)?E.minWidth:0,maxWidth:A(E.maxWidth)?E.maxWidth:Infinity,minHeight:A(E.minHeight)?E.minHeight:0,maxHeight:A(E.maxHeight)?E.maxHeight:Infinity};if(this._aspectRatio||H){I=K.minHeight*this.aspectRatio;G=K.minWidth/this.aspectRatio;J=K.maxHeight*this.aspectRatio;F=K.maxWidth/this.aspectRatio;if(I>K.minWidth){K.minWidth=I}if(G>K.minHeight){K.minHeight=G}if(J<K.maxWidth){K.maxWidth=J}if(F<K.maxHeight){K.maxHeight=F}}this._vBoundaries=K},_updateCache:function(F){var E=this.options;this.offset=this.helper.offset();if(A(F.left)){this.position.left=F.left}if(A(F.top)){this.position.top=F.top}if(A(F.height)){this.size.height=F.height}if(A(F.width)){this.size.width=F.width}},_updateRatio:function(J,G){var F=this.options,H=this.position,E=this.size,I=this.axis;if(A(J.height)){J.width=(J.height*this.aspectRatio)}else{if(A(J.width)){J.height=(J.width/this.aspectRatio)}}if(I=="sw"){J.left=H.left+(E.width-J.width);J.top=null}if(I=="nw"){J.top=H.top+(E.height-J.height);J.left=H.left+(E.width-J.width)}return J},_updateAFunc:function(G,H){var K=this.options,E=this.position,F=this.size,L=this.axis;var I=this.element;var J=K.aspectFunc;if(A(G.height)){G.width=J(I,G.height,"height")}else{if(A(G.width)){G.height=J(I,G.width,"width")}}if(L=="sw"){G.left=E.left+(F.width-G.width);G.top=null}if(L=="nw"){G.top=E.top+(F.height-G.height);G.left=E.left+(F.width-G.width)}return G},_respectSize:function(I,K){var M=this.helper,O=this._vBoundaries,N=this._aspectRatio||K.shiftKey,S=this.axis,L=A(I.width)&&O.maxWidth&&(O.maxWidth<I.width),F=A(I.height)&&O.maxHeight&&(O.maxHeight<I.height),H=A(I.width)&&O.minWidth&&(O.minWidth>I.width),G=A(I.height)&&O.minHeight&&(O.minHeight>I.height);if(H){I.width=O.minWidth}if(G){I.height=O.minHeight}if(L){I.width=O.maxWidth}if(F){I.height=O.maxHeight}var J=this.originalPosition.left+this.originalSize.width,P=this.position.top+this.size.height;var E=/sw|nw|w/.test(S),R=/nw|ne|n/.test(S);if(H&&E){I.left=J-O.minWidth}if(L&&E){I.left=J-O.maxWidth}if(G&&R){I.top=P-O.minHeight}if(F&&R){I.top=P-O.maxHeight}var Q=!I.width&&!I.height;if(Q&&!I.left&&I.top){I.top=null}else{if(Q&&!I.top&&I.left){I.left=null}}return I},_proportionallyResize:function(){var F=this.options;if(!this._proportionallyResizeElements.length){return}var I=this.helper||this.element;for(var E=0;E<this._proportionallyResizeElements.length;E++){var J=this._proportionallyResizeElements[E];if(!this.borderDif){var H=[J.css("borderTopWidth"),J.css("borderRightWidth"),J.css("borderBottomWidth"),J.css("borderLeftWidth")],G=[J.css("paddingTop"),J.css("paddingRight"),J.css("paddingBottom"),J.css("paddingLeft")];this.borderDif=D.map(H,function(N,L){var K=parseInt(N,10)||0,M=parseInt(G[L],10)||0;return K+M})}if(D.browser.msie&&!(!(D(I).is(":hidden")||D(I).parents(":hidden").length))){continue}J.css({height:(I.height()-this.borderDif[0]-this.borderDif[2])||0,width:(I.width()-this.borderDif[1]-this.borderDif[3])||0})}},_renderProxy:function(){var E=this.element,F=this.options;this.elementOffset=E.offset();if(this._helper){this.helper=this.helper||D('<div style="overflow:hidden;"></div>');var G=D.browser.msie&&D.browser.version<7,I=(G?1:0),H=(G?2:-1);this.helper.addClass(this._helper).css({width:this.element.outerWidth()+H,height:this.element.outerHeight()+H,position:"absolute",left:this.elementOffset.left-I+"px",top:this.elementOffset.top-I+"px",zIndex:++F.zIndex});this.helper.appendTo("body").disableSelection()}else{this.helper=this.element}},_change:{e:function(I,G,E){var F=this.options,J=this.originalSize,H=this.originalPosition;if(F.concernAngle&&this.element.data("deg")){return D.divrotate.getDegreeResizeChange(this.element,[G,E],H,J,"e")}return{width:this.originalSize.width+G}},w:function(I,G,E){var F=this.options,J=this.originalSize,H=this.originalPosition;if(F.concernAngle&&this.element.data("deg")){return D.divrotate.getDegreeResizeChange(this.element,[G,E],H,J,"w")}return{left:H.left+G,width:J.width-G}},n:function(I,G,E){var F=this.options,J=this.originalSize,H=this.originalPosition;if(F.concernAngle&&this.element.data("deg")){return D.divrotate.getDegreeResizeChange(this.element,[G,E],H,J,"n")}else{return{top:H.top+E,height:J.height-E}}},s:function(I,G,E){var F=this.options,J=this.originalSize,H=this.originalPosition;if(F.concernAngle&&this.element.data("deg")){return D.divrotate.getDegreeResizeChange(this.element,[G,E],H,J,"s")}return{height:this.originalSize.height+E}},se:function(G,F,E){return D.extend(this._change.s.apply(this,arguments),this._change.e.apply(this,[G,F,E]))},sw:function(G,F,E){return D.extend(this._change.s.apply(this,arguments),this._change.w.apply(this,[G,F,E]))},ne:function(G,F,E){return D.extend(this._change.n.apply(this,arguments),this._change.e.apply(this,[G,F,E]))},nw:function(G,M,L){var J=this.options,E=this.originalSize,F=this.originalPosition;if(J.concernAngle&&this.element.data("deg")){var K=F.left,H=F.top;var I=this._change.n.apply(this,arguments);var N=this._change.w.apply(this,arguments);var O=D.extend({},I,N);O.left=I.left+N.left-K;O.top=I.top+N.top-H;return O}return D.extend(this._change.n.apply(this,arguments),this._change.w.apply(this,[G,M,L]))}},_propagate:function(E,F){D.ui.plugin.call(this,E,[F,this.ui()]);(E!="resize"&&this._trigger(E,F,this.ui()))},plugins:{},ui:function(){return{originalElement:this.originalElement,element:this.element,helper:this.helper,position:this.position,size:this.size,originalSize:this.originalSize,originalPosition:this.originalPosition}}});D.extend(D.ui.resizable,{version:"1.8.17"});D.ui.plugin.add("resizable","alsoResize",{start:function(H,E){var F=D(this).data("resizable"),G=F.options;var I=function(J){D(J).each(function(){var K=D(this);K.data("resizable-alsoresize",{width:parseInt(K.width(),10),height:parseInt(K.height(),10),left:parseInt(K.css("left"),10),top:parseInt(K.css("top"),10),position:K.css("position")})})};if(typeof(G.alsoResize)=="object"&&!G.alsoResize.parentNode){if(G.alsoResize.length){G.alsoResize=G.alsoResize[0];I(G.alsoResize)}else{D.each(G.alsoResize,function(J){I(J)})}}else{I(G.alsoResize)}},resize:function(G,E){var H=D(this).data("resizable"),I=H.options,L=H.originalSize,K=H.originalPosition;var J={height:(H.size.height-L.height)||0,width:(H.size.width-L.width)||0,top:(H.position.top-K.top)||0,left:(H.position.left-K.left)||0},F=function(M,N){D(M).each(function(){var O=D(this),R=D(this).data("resizable-alsoresize"),P={},Q=N&&N.length?N:O.parents(E.originalElement[0]).length?["width","height"]:["width","height","top","left"];D.each(Q,function(S,T){var U=(R[T]||0)+(J[T]||0);if(U&&U>=0){P[T]=U||null}});if(D.browser.opera&&/relative/.test(O.css("position"))){H._revertToRelativePosition=true;O.css({position:"absolute",top:"auto",left:"auto"})}O.css(P)})};if(typeof(I.alsoResize)=="object"&&!I.alsoResize.nodeType){D.each(I.alsoResize,function(M,N){F(M,N)})}else{F(I.alsoResize)}},stop:function(H,E){var F=D(this).data("resizable"),G=F.options;var I=function(J){D(J).each(function(){var K=D(this);K.css({position:K.data("resizable-alsoresize").position})})};if(F._revertToRelativePosition){F._revertToRelativePosition=false;if(typeof(G.alsoResize)=="object"&&!G.alsoResize.nodeType){D.each(G.alsoResize,function(J){I(J)})}else{I(G.alsoResize)}}D(this).removeData("resizable-alsoresize")}});D.ui.plugin.add("resizable","animate",{stop:function(H,G){var N=D(this).data("resizable"),M=N.options;var F=N._proportionallyResizeElements,E=F.length&&(/textarea/i).test(F[0].nodeName),L=E&&D.ui.hasScroll(F[0],"left")?0:N.sizeDiff.height,O=E?0:N.sizeDiff.width;var K={width:(N.size.width-O),height:(N.size.height-L)},J=(parseInt(N.element.css("left"),10)+(N.position.left-N.originalPosition.left))||null,I=(parseInt(N.element.css("top"),10)+(N.position.top-N.originalPosition.top))||null;N.element.animate(D.extend(K,I&&J?{top:I,left:J}:{}),{duration:M.animateDuration,easing:M.animateEasing,step:function(){var P={width:parseInt(N.element.css("width"),10),height:parseInt(N.element.css("height"),10),top:parseInt(N.element.css("top"),10),left:parseInt(N.element.css("left"),10)};if(F&&F.length){D(F[0]).css({width:P.width,height:P.height})}N._updateCache(P);N._propagate("resize",H)}})}});D.ui.plugin.add("resizable","containment",{start:function(J,G){var N=D(this).data("resizable"),L=N.options,K=N.element;var Q=L.containment,O=(Q instanceof D)?Q.get(0):(/parent/.test(Q))?K.parent().get(0):Q;if(!O){return}N.containerElement=D(O);if(/document/.test(Q)||Q==document){N.containerOffset={left:0,top:0};N.containerPosition={left:0,top:0};N.parentData={element:D(document),left:0,top:0,width:D(document).width(),height:D(document).height()||document.body.parentNode.scrollHeight}}else{var F=D(O),H=[];D(["Top","Right","Left","Bottom"]).each(function(S,T){H[S]=C(F.css("padding"+T))});N.containerOffset=F.offset();N.containerPosition=F.position();N.containerSize={height:(F.innerHeight()-H[3]),width:(F.innerWidth()-H[1])};var I=N.containerOffset,E=N.containerSize.height,P=N.containerSize.width,M=(D.ui.hasScroll(O,"left")?O.scrollWidth:P),R=(D.ui.hasScroll(O)?O.scrollHeight:E);N.parentData={element:O,left:I.left,top:I.top,width:M,height:R}}},resize:function(K,H){var P=D(this).data("resizable"),O=P.options,M=P.containerSize,J=P.containerOffset,G=P.size,S=P.position,N=P._aspectRatio||K.shiftKey,L={top:0,left:0},Q=P.containerElement;if(Q[0]!=document&&(/static/).test(Q.css("position"))){L=J}if(S.left<(P._helper?J.left:0)){P.size.width=P.size.width+(P._helper?(P.position.left-J.left):(P.position.left-L.left));if(N){P.size.height=P.size.width/O.aspectRatio}P.position.left=O.helper?J.left:0}if(S.top<(P._helper?J.top:0)){P.size.height=P.size.height+(P._helper?(P.position.top-J.top):P.position.top);if(N){P.size.width=P.size.height*O.aspectRatio}P.position.top=P._helper?J.top:0}P.offset.left=P.parentData.left+P.position.left;P.offset.top=P.parentData.top+P.position.top;var I=Math.abs((P._helper?P.offset.left-L.left:(P.offset.left-L.left))+P.sizeDiff.width),E=Math.abs((P._helper?P.offset.top-L.top:(P.offset.top-J.top))+P.sizeDiff.height);var F=P.containerElement.get(0)==P.element.parent().get(0),R=/relative|absolute/.test(P.containerElement.css("position"));if(F&&R){I-=P.parentData.left}if(I+P.size.width>=P.parentData.width){P.size.width=P.parentData.width-I;if(N){P.size.height=P.size.width/P.aspectRatio}}if(E+P.size.height>=P.parentData.height){P.size.height=P.parentData.height-E;if(N){P.size.width=P.size.height*P.aspectRatio}}},stop:function(I,F){var M=D(this).data("resizable"),K=M.options,P=M.position,H=M.containerOffset,J=M.containerPosition,N=M.containerElement;var O=D(M.helper),E=O.offset(),G=O.outerWidth()-M.sizeDiff.width,L=O.outerHeight()-M.sizeDiff.height;if(M._helper&&!K.animate&&(/relative/).test(N.css("position"))){D(this).css({left:E.left-J.left-H.left,width:G,height:L})}if(M._helper&&!K.animate&&(/static/).test(N.css("position"))){D(this).css({left:E.left-J.left-H.left,width:G,height:L})}}});D.ui.plugin.add("resizable","scroll",{start:function(G,E){var F=D(this).data("resizable");o=F.options;if(o.scroll&&(!o.concernAngle||o.concernAngle&&!F.element.data("deg"))){F.scrollout=1;if(F.scrollParent[0]!=document&&F.scrollParent[0].tagName!="HTML"){F.overflowOffset=F.scrollParent.offset()}}},resize:function(G,F){var J=D(this).data("resizable"),I=J.options,E=false;if(I.scroll&&(!I.concernAngle||I.concernAngle&&!J.element.data("deg"))){if(J.scrollParent[0]!=document&&J.scrollParent[0].tagName!="HTML"){var L=J.scrollParent[0].scrollTop;J.element.data("resize_oriscrolltop",L);var H=J.lastheightval||0;if((J.axis=="s"||J.axis=="n")&&H-J.size.height!=0){J.lastheightval=J.size.height;var K=0;var M=function(N){K=J.scrollParent[0].scrollTop-L;if(J.axis=="s"){if(J.scrollout==1){J.size.height+=K;J.scrollout=N}else{J.size.height+=K*2}}else{if(J.scrollout==1){J.size.height-=K;J.position.top+=K;J.scrollout=N}else{J.size.height-=K*2;J.position.top+=K*2}}};if((J.overflowOffset.top+J.scrollParent[0].offsetHeight)-G.pageY<I.scrollSensitivity){J.scrollParent[0].scrollTop=E=L+I.scrollSpeed;M(2)}else{if(G.pageY-J.overflowOffset.top<I.scrollSensitivity){J.scrollParent[0].scrollTop=E=L-I.scrollSpeed;M(3)}else{J.scrollout=1}}}}}}});D.ui.plugin.add("resizable","ghost",{start:function(H,E){var F=D(this).data("resizable"),G=F.options,I=F.size;F.ghost=F.originalElement.clone();F.ghost.css({opacity:0.25,display:"block",position:"relative",height:I.height,width:I.width,margin:0,left:0,top:0}).addClass("ui-resizable-ghost").addClass(typeof G.ghost=="string"?G.ghost:"");F.ghost.appendTo(F.helper)},resize:function(H,E){var F=D(this).data("resizable"),G=F.options;if(F.ghost){F.ghost.css({position:"relative",height:F.size.height,width:F.size.width})}},stop:function(H,E){var F=D(this).data("resizable"),G=F.options;if(F.ghost&&F.helper){F.helper.get(0).removeChild(F.ghost.get(0))}}});D.ui.plugin.add("resizable","grid",{resize:function(I,F){var L=D(this).data("resizable"),K=L.options,E=L.size,O=L.originalSize,M=L.originalPosition,N=L.axis,J=K._aspectRatio||I.shiftKey;K.grid=typeof K.grid=="number"?[K.grid,K.grid]:K.grid;var H=Math.round((E.width-O.width)/(K.grid[0]||1))*(K.grid[0]||1),G=Math.round((E.height-O.height)/(K.grid[1]||1))*(K.grid[1]||1);if(/^(se|s|e)$/.test(N)){L.size.width=O.width+H;L.size.height=O.height+G}else{if(/^(ne)$/.test(N)){L.size.width=O.width+H;L.size.height=O.height+G;L.position.top=M.top-G}else{if(/^(sw)$/.test(N)){L.size.width=O.width+H;L.size.height=O.height+G;L.position.left=M.left-H}else{L.size.width=O.width+H;L.size.height=O.height+G;L.position.top=M.top-G;L.position.left=M.left-H}}}}});D.ui.plugin.add("resizable","wopop_snap",{start:function(J,F){var K=D(this).data("resizable"),M=K.options;K.snapElements=[];var L=M.wopop_snap;if(!L){return}if(D(this).data("deg")){return}if(!D(this).is(".cstlayer")){return}if(D(this).closest(".fullpagesection").length){return}if(!D(".rulerh:visible").length){return}var I=D(this).ab_pos_cnter("top")-K.originalPosition.top;K.wopop_ab_top=I;var O=[];var P=[];var Q=[];var H=[];function E(S,U){for(var R=0;R<U.length;R++){var T=U[R];if(Math.abs(T-S)<2){return 1}}return -1}function G(){O=[];P=[];Q=[];H=[];D(".rulerguide").removeClass("showline");K.snapElements=[]}function N(){G();D(".rulerh:visible .rulerguide").each(function(){var R=D(this);var S=parseInt(R.css("left"))||0;if(E(S,O)==-1){var T={item:this,top:0,left:S};K.snapElements.push(T);O.push(S);R.data("snapel",T)}});D(".rulerv:visible .rulerguide").each(function(){var R=D(this);var T=parseInt(R.css("top"))||0;if(E(T,P)==-1){var S={item:this,top:T,left:0};K.snapElements.push(S);P.push(T);R.data("snapel",S)}})}D(this).unbind("layersnapstart").bind("layersnapstart",function(){});N();D(this).trigger("layersnapstart")},resize:function(e,H){var P=D(this).data("resizable"),M=P.options;var E=M.wopop_snap;if(!E){return}if(D(this).data("deg")){return}if(!D(this).is(".cstlayer")){return}if(!D(".rulerh:visible").length){return}var S="outer";var U=3;var T=D("#scroll_container").scrollTop();var m=P.ori_scct;if(T!=m){D(this).trigger("layersnapstart")}var n=P;var Z=0;var j=n.size,L=n.originalSize,g=n.originalPosition,R=n.axis;var c=P.wopop_ab_top;for(var K=P.snapElements.length-1;K>=0;K--){var N=P.snapElements[K].left,k=N+0,G=P.snapElements[K].top,X=G+0;var I=D(P.snapElements[K].item);var Y=false;if(R=="e"||R=="w"){if(!D(P.snapElements[K].item).closest(".rulerh").length){P.snapElements[K].snapping=false;I.removeClass("showline");continue}if(R=="e"){var V=g.left+n.size.width;var p=Math.abs(N-V)<=U;if(p){n.size.width=n.size.width+(N-V)-Z;Y=true}}else{var h=n.position.left;var J=Math.abs(N-h)<=U;if(J){n.size.width=n.size.width-(N-h)+Z;n.position.left=n.position.left+(N-h)-Z;Y=true}}}else{if(R=="n"||R=="s"){if(!D(P.snapElements[K].item).closest(".rulerv").length){P.snapElements[K].snapping=false;I.removeClass("showline");continue}if(R=="n"){var V=n.position.top+c;var F=Math.abs(G-V)<=U;if(F){n.size.height=n.size.height-(G-V);n.position.top=n.position.top+(G-V);Y=true}}else{var V=n.position.top+c+n.size.height;var O=Math.abs(X-V)<=U;if(O){n.size.height=n.size.height+(X-V);Y=true}}}else{var W=R.match(/./g);for(var f=0;f<W.length;f++){var Q=W[f];if(Q=="e"){var V=g.left+n.size.width;var p=Math.abs(k-V)<=U;if(p){n.size.width=n.size.width+(k-V)-Z;Y=true}}else{if(Q=="w"){var h=n.position.left;var J=Math.abs(N-h)<=U;if(J){n.size.width=n.size.width-(N-h)+Z;n.position.left=n.position.left+(N-h)-Z;Y=true}}else{if(Q=="n"){var V=n.position.top+c;var F=Math.abs(G-V)<=U;if(F){n.size.height=n.size.height-(G-V);n.position.top=n.position.top+(G-V);Y=true}}else{if(Q=="s"){var V=n.position.top+n.size.height+c;var O=Math.abs(X-V)<=U;if(O){n.size.height=n.size.height+(X-V);Y=true}}}}}}}}if(Y){P.snapElements[K].snapping=true;if(D(P.snapElements[K].item).closest(".rulerh").length){D(".rulerh .rulerguide").removeClass("showline")}else{D(".rulerv .rulerguide").removeClass("showline")}D(P.snapElements[K].item).addClass("showline")}else{P.snapElements[K].snapping=false;I.removeClass("showline");continue}continue}},stop:function(F,E){D(".rulerguide").removeClass("showline");D(this).unbind("layersnapstart")}});D.ui.plugin.add("resizable","wopop_snap2",{start:function(I,F){return;var K=D(this).data("resizable"),M=K.options;var L=M.wopop_snap;if(!L){return}if(D(this).data("deg")){return}if(!D(this).is(".cstlayer")){return}if(D(this).closest(".fullpagesection").length){return}K.snapElements=[];var H=D(this).ab_pos_cnter("top")-K.originalPosition.top;K.wopop_ab_top=H;var N=[];var O=[];function E(Q,S){for(var P=0;P<S.length;P++){var R=S[P];if(Math.abs(R-Q)<2){return 1}}return -1}function G(){N=[];O=[];D(".wopop_snap").remove();K.snapElements=[]}function J(T){var Q=parseInt(T.ab_pos_cnter("top"))||0;var V=Q+parseInt(T.css("height"))||0;var U=parseInt(T.css("left"))||0;var P=U+parseInt(T.css("width"))||0;var S=D("#canvas").offset().left-D("#scroll_container").offset().left;var R=D("#scroll_container_bg").height();var W=D("#scroll_container").scrollTop();K.ori_scct=W;if(E(Q,O)==-1){O.push(Q);var X="<div class='wopop_snap_horizon wopop_snap' style='top:"+Q+"px;'></div>";D("#scroll_container").append(X)}if(E(V,O)==-1){O.push(V);var X="<div class='wopop_snap_horizon wopop_snap' style='top:"+V+"px;'></div>";D("#scroll_container").append(X)}if(E(U,N)==-1){N.push(U);var X="<div class='wopop_snap_vertical wopop_snap' style='left:"+(S+U)+"px;height:"+R+"px;'></div>";D("#scroll_container").append(X)}if(E(P,N)==-1){N.push(P);var X="<div class='wopop_snap_vertical wopop_snap' style='left:"+(S+P)+"px;height:"+R+"px;'></div>";D("#scroll_container").append(X)}}D(this).unbind("layersnapstart").bind("layersnapstart",function(){G();if(D.getElementAreaInf(D(this))=="canvas"){D("#canvas .cstlayer:not(.ui-modselected)").each(function(){J(D(this))})}else{D("#scroll_container .cstlayer:not(.ui-modselected)").each(function(){J(D(this))})}K.snapElements=[];var Q=D("#scroll_container").scrollTop();var P=D("#canvas").offset().left;D(".wopop_snap").each(function(){var S=D(this);var R=S.offset();if(S.is(".wopop_snap_vertical")){K.snapElements.push({item:this,width:0,height:S.outerHeight(),top:0,left:R.left-P})}else{K.snapElements.push({item:this,width:S.outerWidth(),height:0,top:parseInt(S.css("top"))||0,left:0})}})});D(this).trigger("layersnapstart")},resize:function(e,H){return;var P=D(this).data("resizable"),M=P.options;var E=M.wopop_snap;if(!E){return}if(D(this).data("deg")){return}if(!D(this).is(".cstlayer")){return}var S="outer";var U=3;var T=D("#scroll_container").scrollTop();var m=P.ori_scct;if(T!=m){D(this).trigger("layersnapstart")}var n=P;var Z=0;var j=n.size,L=n.originalSize,g=n.originalPosition,R=n.axis;var c=P.wopop_ab_top;for(var K=P.snapElements.length-1;K>=0;K--){var N=P.snapElements[K].left,k=N+P.snapElements[K].width,G=P.snapElements[K].top,X=G+P.snapElements[K].height;var I=D(P.snapElements[K].item);var Y=false;if(R=="e"||R=="w"){if(!I.is(".wopop_snap_vertical")){P.snapElements[K].snapping=false;I.removeClass("showline");continue}if(R=="e"){var V=g.left+n.size.width;var p=Math.abs(N-V)<=U;if(p){n.size.width=n.size.width+(N-V)-Z;Y=true}}else{var h=n.position.left;var J=Math.abs(N-h)<=U;if(J){n.size.width=n.size.width-(N-h)+Z;n.position.left=n.position.left+(N-h)-Z;Y=true}}}else{if(R=="n"||R=="s"){if(!I.is(".wopop_snap_horizon")){P.snapElements[K].snapping=false;I.removeClass("showline");continue}if(R=="n"){var V=n.position.top+c;var F=Math.abs(G-V)<=U;if(F){n.size.height=n.size.height-(G-V);n.position.top=n.position.top+(G-V);Y=true}}else{var V=n.position.top+c+n.size.height;var O=Math.abs(X-V)<=U;if(O){n.size.height=n.size.height+(X-V);Y=true}}}else{var W=R.match(/./g);for(var f=0;f<W.length;f++){var Q=W[f];if(Q=="e"){var V=g.left+n.size.width;var p=Math.abs(k-V)<=U;if(p){n.size.width=n.size.width+(k-V)-Z;Y=true}}else{if(Q=="w"){var h=n.position.left;var J=Math.abs(N-h)<=U;if(J){n.size.width=n.size.width-(N-h)+Z;n.position.left=n.position.left+(N-h)-Z;Y=true}}else{if(Q=="n"){var V=n.position.top+c;var F=Math.abs(G-V)<=U;if(F){n.size.height=n.size.height-(G-V);n.position.top=n.position.top+(G-V);Y=true}}else{if(Q=="s"){var V=n.position.top+n.size.height+c;var O=Math.abs(X-V)<=U;if(O){n.size.height=n.size.height+(X-V);Y=true}}}}}}}}if(Y){P.snapElements[K].snapping=true;if(D(P.snapElements[K].item).is(".wopop_snap_vertical")){D(".wopop_snap_vertical").removeClass("showline")}else{D(".wopop_snap_horizon").removeClass("showline")}D(P.snapElements[K].item).addClass("showline")}else{P.snapElements[K].snapping=false;I.removeClass("showline");continue}continue}},stop:function(F,E){return;D(".wopop_snap").remove()}});var C=function(E){return parseInt(E,10)||0};var A=function(E){return !isNaN(parseInt(E,10))}})(jQuery);(function(C,A){var B=5;C.widget("ui.slider",C.ui.mouse,{widgetEventPrefix:"slide",options:{animate:!1,distance:0,max:100,min:0,orientation:"horizontal",range:!1,step:1,value:0,values:null},_create:function(){var I=this,E=this.options,F=this.element.find(".ui-slider-handle").addClass("ui-state-default ui-corner-all"),J="<a class='ui-slider-handle ui-state-default ui-corner-all' href='#'></a>",D=E.values&&E.values.length||1,G=[];this._keySliding=!1,this._mouseSliding=!1,this._animateOff=!0,this._handleIndex=null,this._detectOrientation(),this._mouseInit(),this.element.addClass("ui-slider ui-slider-"+this.orientation+" ui-widget ui-widget-content ui-corner-all"+(E.disabled?" ui-slider-disabled ui-disabled":"")),this.range=C([]),E.range&&(E.range===!0&&(E.values||(E.values=[this._valueMin(),this._valueMin()]),E.values.length&&E.values.length!==2&&(E.values=[E.values[0],E.values[0]])),this.range=C("<div></div>").appendTo(this.element).addClass("ui-slider-range ui-widget-header"+(E.range==="min"||E.range==="max"?" ui-slider-range-"+E.range:"")));for(var H=F.length;H<D;H+=1){G.push(J)}this.handles=F.add(C(G.join("")).appendTo(I.element)),this.handle=this.handles.eq(0),this.handles.add(this.range).filter("a").click(function(K){K.preventDefault()}).hover(function(){E.disabled||C(this).addClass("ui-state-hover")},function(){C(this).removeClass("ui-state-hover")}).focus(function(){E.disabled?C(this).blur():(C(".ui-slider .ui-state-focus").removeClass("ui-state-focus"),C(this).addClass("ui-state-focus"))}).blur(function(){C(this).removeClass("ui-state-focus")}),this.handles.each(function(K){C(this).data("index.ui-slider-handle",K)}),this.handles.keydown(function(L){var M=!0,Q=C(this).data("index.ui-slider-handle"),K,N,O,P;if(!I.options.disabled){switch(L.keyCode){case C.ui.keyCode.HOME:case C.ui.keyCode.END:case C.ui.keyCode.PAGE_UP:case C.ui.keyCode.PAGE_DOWN:case C.ui.keyCode.UP:case C.ui.keyCode.RIGHT:case C.ui.keyCode.DOWN:case C.ui.keyCode.LEFT:M=!1;if(!I._keySliding){I._keySliding=!0,C(this).addClass("ui-state-active"),K=I._start(L,Q);if(K===!1){return}}}P=I.options.step,I.options.values&&I.options.values.length?N=O=I.values(Q):N=O=I.value();switch(L.keyCode){case C.ui.keyCode.HOME:O=I._valueMin();break;case C.ui.keyCode.END:O=I._valueMax();break;case C.ui.keyCode.PAGE_UP:O=I._trimAlignValue(N+(I._valueMax()-I._valueMin())/B);break;case C.ui.keyCode.PAGE_DOWN:O=I._trimAlignValue(N-(I._valueMax()-I._valueMin())/B);break;case C.ui.keyCode.UP:case C.ui.keyCode.RIGHT:if(N===I._valueMax()){return}O=I._trimAlignValue(N+P);break;case C.ui.keyCode.DOWN:case C.ui.keyCode.LEFT:if(N===I._valueMin()){return}O=I._trimAlignValue(N-P)}I._slide(L,Q,O);return M}}).keyup(function(L){var K=C(this).data("index.ui-slider-handle");I._keySliding&&(I._keySliding=!1,I._stop(L,K),I._change(L,K),C(this).removeClass("ui-state-active"))}),this._refreshValue(),this._animateOff=!1},destroy:function(){this.handles.remove(),this.range.remove(),this.element.removeClass("ui-slider ui-slider-horizontal ui-slider-vertical ui-slider-disabled ui-widget ui-widget-content ui-corner-all").removeData("slider").unbind(".slider"),this._mouseDestroy();return this},_mouseCapture:function(J){var K=this.options,N,D,L,M,G,H,E,F,I;if(K.disabled){return !1}this.elementSize={width:this.element.outerWidth(),height:this.element.outerHeight()},this.elementOffset=this.element.offset(),N={x:J.pageX,y:J.pageY},D=this._normValueFromMouse(N),L=this._valueMax()-this._valueMin()+1,G=this,this.handles.each(function(O){var P=Math.abs(D-G.values(O));L>P&&(L=P,M=C(this),H=O)}),K.range===!0&&this.values(1)===K.min&&(H+=1,M=C(this.handles[H])),E=this._start(J,H);if(E===!1){return !1}this._mouseSliding=!0,G._handleIndex=H,M.addClass("ui-state-active").focus(),F=M.offset(),I=!C(J.target).parents().andSelf().is(".ui-slider-handle"),this._clickOffset=I?{left:0,top:0}:{left:J.pageX-F.left-M.width()/2,top:J.pageY-F.top-M.height()/2-(parseInt(M.css("borderTopWidth"),10)||0)-(parseInt(M.css("borderBottomWidth"),10)||0)+(parseInt(M.css("marginTop"),10)||0)},this.handles.hasClass("ui-state-hover")||this._slide(J,H,D),this._animateOff=!0;return !0},_mouseStart:function(D){return !0},_mouseDrag:function(F){var D={x:F.pageX,y:F.pageY},E=this._normValueFromMouse(D);this._slide(F,this._handleIndex,E);return !1},_mouseStop:function(D){this.handles.removeClass("ui-state-active"),this._mouseSliding=!1,this._stop(D,this._handleIndex),this._change(D,this._handleIndex),this._handleIndex=null,this._clickOffset=null,this._animateOff=!1;return !1},_detectOrientation:function(){this.orientation=this.options.orientation==="vertical"?"vertical":"horizontal"},_normValueFromMouse:function(H){var F,G,D,E,I;this.orientation==="horizontal"?(F=this.elementSize.width,G=H.x-this.elementOffset.left-(this._clickOffset?this._clickOffset.left:0)):(F=this.elementSize.height,G=H.y-this.elementOffset.top-(this._clickOffset?this._clickOffset.top:0)),D=G/F,D>1&&(D=1),D<0&&(D=0),this.orientation==="vertical"&&(D=1-D),E=this._valueMax()-this._valueMin(),I=this._valueMin()+D*E;return this._trimAlignValue(I)},_start:function(F,D){var E={handle:this.handles[D],value:this.value()};this.options.values&&this.options.values.length&&(E.value=this.values(D),E.values=this.values());return this._trigger("start",F,E)},_slide:function(H,F,G){var D,E,I;this.options.values&&this.options.values.length?(D=this.values(F?0:1),this.options.values.length===2&&this.options.range===!0&&(F===0&&G>D||F===1&&G<D)&&(G=D),G!==this.values(F)&&(E=this.values(),E[F]=G,I=this._trigger("slide",H,{handle:this.handles[F],value:G,values:E}),D=this.values(F?0:1),I!==!1&&this.values(F,G,!0))):G!==this.value()&&(I=this._trigger("slide",H,{handle:this.handles[F],value:G}),I!==!1&&this.value(G))},_stop:function(F,D){var E={handle:this.handles[D],value:this.value()};this.options.values&&this.options.values.length&&(E.value=this.values(D),E.values=this.values()),this._trigger("stop",F,E)},_change:function(F,D){if(!this._keySliding&&!this._mouseSliding){var E={handle:this.handles[D],value:this.value()};this.options.values&&this.options.values.length&&(E.value=this.values(D),E.values=this.values()),this._trigger("change",F,E)}},value:function(D){if(arguments.length){this.options.value=this._trimAlignValue(D),this._refreshValue(),this._change(null,0)}else{return this._value()}},values:function(F,G){var D,E,H;if(arguments.length>1){this.options.values[F]=this._trimAlignValue(G),this._refreshValue(),this._change(null,F)}else{if(!arguments.length){return this._values()}if(!C.isArray(arguments[0])){return this.options.values&&this.options.values.length?this._values(F):this.value()}D=this.options.values,E=arguments[0];for(H=0;H<D.length;H+=1){D[H]=this._trimAlignValue(E[H]),this._change(null,H)}this._refreshValue()}},_setOption:function(F,G){var D,E=0;C.isArray(this.options.values)&&(E=this.options.values.length),C.Widget.prototype._setOption.apply(this,arguments);switch(F){case"disabled":G?(this.handles.filter(".ui-state-focus").blur(),this.handles.removeClass("ui-state-hover"),this.handles.propAttr("disabled",!0),this.element.addClass("ui-disabled")):(this.handles.propAttr("disabled",!1),this.element.removeClass("ui-disabled"));break;case"orientation":this._detectOrientation(),this.element.removeClass("ui-slider-horizontal ui-slider-vertical").addClass("ui-slider-"+this.orientation),this._refreshValue();break;case"value":this._animateOff=!0,this._refreshValue(),this._change(null,0),this._animateOff=!1;break;case"values":this._animateOff=!0,this._refreshValue();for(D=0;D<E;D+=1){this._change(null,D)}this._animateOff=!1}},_value:function(){var D=this.options.value;D=this._trimAlignValue(D);return D},_values:function(G){var E,F,D;if(arguments.length){E=this.options.values[G],E=this._trimAlignValue(E);return E}F=this.options.values.slice();for(D=0;D<F.length;D+=1){F[D]=this._trimAlignValue(F[D])}return F},_trimAlignValue:function(G){if(G<=this._valueMin()){return this._valueMin()}if(G>=this._valueMax()){return this._valueMax()}var E=this.options.step>0?this.options.step:1,F=(G-this._valueMin())%E,D=G-F;Math.abs(F)*2>=E&&(D+=F>0?E:-E);return parseFloat(D.toFixed(5))},_valueMin:function(){return this.options.min},_valueMax:function(){return this.options.max},_refreshValue:function(){var I=this.options.range,J=this.options,M=this,D=this._animateOff?!1:J.animate,K,L={},G,H,E,F;this.options.values&&this.options.values.length?this.handles.each(function(O,N){K=(M.values(O)-M._valueMin())/(M._valueMax()-M._valueMin())*100,L[M.orientation==="horizontal"?"left":"bottom"]=K+"%",C(this).stop(1,1)[D?"animate":"css"](L,J.animate),M.options.range===!0&&(M.orientation==="horizontal"?(O===0&&M.range.stop(1,1)[D?"animate":"css"]({left:K+"%"},J.animate),O===1&&M.range[D?"animate":"css"]({width:K-G+"%"},{queue:!1,duration:J.animate})):(O===0&&M.range.stop(1,1)[D?"animate":"css"]({bottom:K+"%"},J.animate),O===1&&M.range[D?"animate":"css"]({height:K-G+"%"},{queue:!1,duration:J.animate}))),G=K}):(H=this.value(),E=this._valueMin(),F=this._valueMax(),K=F!==E?(H-E)/(F-E)*100:0,L[M.orientation==="horizontal"?"left":"bottom"]=K+"%",this.handle.stop(1,1)[D?"animate":"css"](L,J.animate),I==="min"&&this.orientation==="horizontal"&&this.range.stop(1,1)[D?"animate":"css"]({width:K+"%"},J.animate),I==="max"&&this.orientation==="horizontal"&&this.range[D?"animate":"css"]({width:100-K+"%"},{queue:!1,duration:J.animate}),I==="min"&&this.orientation==="vertical"&&this.range.stop(1,1)[D?"animate":"css"]({height:K+"%"},J.animate),I==="max"&&this.orientation==="vertical"&&this.range[D?"animate":"css"]({height:100-K+"%"},{queue:!1,duration:J.animate}))}}),C.extend(C.ui.slider,{version:"1.8.17"})})(jQuery);(function(E,C){E.ui=E.ui||{};var D=/left|center|right/,H=/top|center|bottom/,A="center",F={},G=E.fn.position,B=E.fn.offset;E.fn.position=function(P){if(!P||!P.of){return G.apply(this,arguments)}P=E.extend({},P);var K=E(P.of),L=K[0],I=(P.collision||"flip").split(" "),J=P.offset?P.offset.split(" "):[0,0],N,O,M;L.nodeType===9?(N=K.width(),O=K.height(),M={top:0,left:0}):L.setTimeout?(N=K.width(),O=K.height(),M={top:K.scrollTop(),left:K.scrollLeft()}):L.preventDefault?(P.at="left top",N=O=0,M={top:P.of.pageY,left:P.of.pageX}):(N=K.outerWidth(),O=K.outerHeight(),M=K.offset()),E.each(["my","at"],function(){var Q=(P[this]||"").split(" ");Q.length===1&&(Q=D.test(Q[0])?Q.concat([A]):H.test(Q[0])?[A].concat(Q):[A,A]),Q[0]=D.test(Q[0])?Q[0]:A,Q[1]=H.test(Q[1])?Q[1]:A,P[this]=Q}),I.length===1&&(I[1]=I[0]),J[0]=parseInt(J[0],10)||0,J.length===1&&(J[1]=J[0]),J[1]=parseInt(J[1],10)||0,P.at[0]==="right"?M.left+=N:P.at[0]===A&&(M.left+=N/2),P.at[1]==="bottom"?M.top+=O:P.at[1]===A&&(M.top+=O/2),M.left+=J[0],M.top+=J[1];return this.each(function(){var W=E(this),Y=W.outerWidth(),X=W.outerHeight(),T=parseInt(E.curCSS(this,"marginLeft",!0))||0,U=parseInt(E.curCSS(this,"marginTop",!0))||0,V=Y+T+(parseInt(E.curCSS(this,"marginRight",!0))||0),R=X+U+(parseInt(E.curCSS(this,"marginBottom",!0))||0),S=E.extend({},M),Q;P.my[0]==="right"?S.left-=Y:P.my[0]===A&&(S.left-=Y/2),P.my[1]==="bottom"?S.top-=X:P.my[1]===A&&(S.top-=X/2),F.fractions||(S.left=Math.round(S.left),S.top=Math.round(S.top)),Q={left:S.left-T,top:S.top-U},E.each(["left","top"],function(a,Z){E.ui.position[I[a]]&&E.ui.position[I[a]][Z](S,{targetWidth:N,targetHeight:O,elemWidth:Y,elemHeight:X,collisionPosition:Q,collisionWidth:V,collisionHeight:R,offset:J,my:P.my,at:P.at})}),E.fn.bgiframe&&W.bgiframe(),W.offset(E.extend(S,{using:P.using}))})},E.ui.position={fit:{left:function(K,L){var I=E(window),J=L.collisionPosition.left+L.collisionWidth-I.width()-I.scrollLeft();K.left=J>0?K.left-J:Math.max(K.left-L.collisionPosition.left,K.left)},top:function(K,L){var I=E(window),J=L.collisionPosition.top+L.collisionHeight-I.height()-I.scrollTop();K.top=J>0?K.top-J:Math.max(K.top-L.collisionPosition.top,K.top)}},flip:{left:function(M,N){if(N.at[0]!==A){var J=E(window),O=N.collisionPosition.left+N.collisionWidth-J.width()-J.scrollLeft(),I=N.my[0]==="left"?-N.elemWidth:N.my[0]==="right"?N.elemWidth:0,K=N.at[0]==="left"?N.targetWidth:-N.targetWidth,L=-2*N.offset[0];M.left+=N.collisionPosition.left<0?I+K+L:O>0?I+K+L:0}},top:function(M,N){if(N.at[1]!==A){var J=E(window),O=N.collisionPosition.top+N.collisionHeight-J.height()-J.scrollTop(),I=N.my[1]==="top"?-N.elemHeight:N.my[1]==="bottom"?N.elemHeight:0,K=N.at[1]==="top"?N.targetHeight:-N.targetHeight,L=-2*N.offset[1];M.top+=N.collisionPosition.top<0?I+K+L:O>0?I+K+L:0}}}},E.offset.setOffset||(E.offset.setOffset=function(M,N){/static/.test(E.curCSS(M,"position"))&&(M.style.position="relative");var J=E(M),K=J.offset(),O=parseInt(E.curCSS(M,"top",!0),10)||0,I=parseInt(E.curCSS(M,"left",!0),10)||0,L={top:N.top-K.top+O,left:N.left-K.left+I};"using" in N?N.using.call(M,L):J.css(L)},E.fn.offset=function(I){var J=this[0];if(!J||!J.ownerDocument){return null}if(I){return this.each(function(){E.offset.setOffset(this,I)})}return B.call(this)}),function(){var M=document.getElementsByTagName("body")[0],N=document.createElement("div"),P,I,O,K,L;P=document.createElement(M?"div":"body"),O={visibility:"hidden",width:0,height:0,border:0,margin:0,background:"none"},M&&jQuery.extend(O,{position:"absolute",left:"-1000px",top:"-1000px"});for(var J in O){P.style[J]=O[J]}P.appendChild(N),I=M||document.documentElement,I.insertBefore(P,I.firstChild),N.style.cssText="position: absolute; left: 10.7432222px; top: 10.432325px; height: 30px; width: 201px;",K=E(N).offset(function(R,Q){return Q}).offset(),P.innerHTML="",I.removeChild(P),L=K.top+K.left+(M?2000:0),F.fractions=L>21&&L<22}()})(jQuery);(function(D,E){var F=0;D.widget("ui.autocomplete",{options:{appendTo:"body",autoFocus:false,delay:300,minLength:1,width:"auto",position:{my:"left top",at:"left bottom",collision:"none"},source:null},pending:0,_create:function(){var A=this,B=this.element[0].ownerDocument,C;this.element.addClass("ui-autocomplete-input").attr("autocomplete","off").attr({role:"textbox","aria-autocomplete":"list","aria-haspopup":"true"}).bind("keydown.autocomplete",function(I){if(A.options.disabled||A.element.propAttr("readOnly")){return}C=false;var J=D.ui.keyCode;switch(I.keyCode){case J.PAGE_UP:A._move("previousPage",I);break;case J.PAGE_DOWN:A._move("nextPage",I);break;case J.UP:A._move("previous",I);I.preventDefault();break;case J.DOWN:A._move("next",I);I.preventDefault();break;case J.ENTER:case J.NUMPAD_ENTER:if(A.menu.active){C=true;I.preventDefault()}case J.TAB:if(!A.menu.active){return}A.menu.select(I);break;case J.ESCAPE:A.element.val(A.term);A.close(I);break;default:clearTimeout(A.searching);A.searching=setTimeout(function(){if(A.term!=A.element.val()){A.selectedItem=null;A.search(null,I)}},A.options.delay);break}}).bind("keypress.autocomplete",function(H){if(C){C=false;H.preventDefault()}}).bind("focus.autocomplete",function(){if(A.options.disabled){return}A.selectedItem=null;A.previous=A.element.val()}).bind("blur.autocomplete",function(H){if(A.options.disabled){return}clearTimeout(A.searching);A.closing=setTimeout(function(){A.close(H);A._change(H)},150)});this._initSource();this.response=function(){return A._response.apply(A,arguments)};this.menu=D("<ul></ul>").addClass("ui-autocomplete").appendTo(D(this.options.appendTo||"body",B)[0]).mousedown(function(J){var I=A.menu.element[0];if(!D(J.target).closest(".ui-menu-item").length){setTimeout(function(){D(document).one("mousedown",function(G){if(G.target!==A.element[0]&&G.target!==I&&!D.ui.contains(I,G.target)){A.close()}})},1)}setTimeout(function(){clearTimeout(A.closing)},13)}).menu({focus:function(K,L){var J=L.item.data("item.autocomplete");if(false!==A._trigger("focus",K,{item:J})){if(/^key/.test(K.originalEvent.type)){A.element.val(J.value)}}},selected:function(L,M){var N=M.item.data("item.autocomplete"),K=A.previous;if(A.element[0]!==B.activeElement){A.element.focus();A.previous=K;setTimeout(function(){A.previous=K;A.selectedItem=N},1)}if(false!==A._trigger("select",L,{item:N})){A.element.val(N.value)}A.term=A.element.val();A.close(L);A.selectedItem=N},blur:function(I,J){if(A.menu.element.is(":visible")&&(A.element.val()!==A.term)){A.element.val(A.term)}}}).zIndex(this.element.zIndex()+1).css({top:0,left:0}).hide().data("menu");if(D.fn.bgiframe){this.menu.element.bgiframe()}A.beforeunloadHandler=function(){A.element.removeAttr("autocomplete")};D(window).bind("beforeunload",A.beforeunloadHandler)},destroy:function(){this.element.removeClass("ui-autocomplete-input").removeAttr("autocomplete").removeAttr("role").removeAttr("aria-autocomplete").removeAttr("aria-haspopup");this.menu.element.remove();D(window).unbind("beforeunload",this.beforeunloadHandler);D.Widget.prototype.destroy.call(this)},_setOption:function(B,A){D.Widget.prototype._setOption.apply(this,arguments);if(B==="source"){this._initSource()}if(B==="appendTo"){this.menu.element.appendTo(D(A||"body",this.element[0].ownerDocument)[0])}if(B==="disabled"&&A&&this.xhr){this.xhr.abort()}},_initSource:function(){var C=this,A,B;if(D.isArray(this.options.source)){A=this.options.source;this.source=function(I,J){J(D.ui.autocomplete.filter(A,I.term))}}else{if(typeof this.options.source==="string"){B=this.options.source;this.source=function(I,J){if(C.xhr){C.xhr.abort()}C.xhr=D.ajax({url:B,data:I,dataType:"json",autocompleteRequest:++F,success:function(H,G){if(this.autocompleteRequest===F){J(H)}},error:function(){if(this.autocompleteRequest===F){J([])}}})}}else{this.source=this.options.source}}},search:function(A,B){A=A!=null?A:this.element.val();this.term=this.element.val();if(A.length<this.options.minLength){return this.close(B)}clearTimeout(this.closing);if(this._trigger("search",B)===false){return}return this._search(A)},_search:function(A){this.pending++;this.element.addClass("ui-autocomplete-loading");this.source({term:A},this.response)},_response:function(A){if(!this.options.disabled&&A&&A.length){A=this._normalize(A);this._suggest(A);this._trigger("open")}else{this.close()}this.pending--;if(!this.pending){this.element.removeClass("ui-autocomplete-loading")}},close:function(A){clearTimeout(this.closing);if(this.menu.element.is(":visible")){this.menu.element.hide();this.menu.deactivate();this._trigger("close",A)}},_change:function(A){if(this.previous!==this.element.val()){this._trigger("change",A,{item:this.selectedItem})}},_normalize:function(A){if(A.length&&A[0].label&&A[0].value){return A}return D.map(A,function(B){if(typeof B==="string"){return{label:B,value:B}}return D.extend({label:B.label||B.value,value:B.value||B.label},B)})},_suggest:function(A){var B=this.menu.element.empty().zIndex(this.element.zIndex()+1);this._renderMenu(B,A);this.menu.deactivate();this.menu.refresh();B.show();this._resizeMenu();B.position(D.extend({of:this.element},this.options.position));if(this.options.autoFocus){this.menu.next(new D.Event("mouseover"))}},_resizeMenu:function(){var A=this.menu.element;if(this.options.width=="auto"){A.outerWidth(Math.max(A.width("").outerWidth()+1,this.element.outerWidth()))}else{A.outerWidth(this.options.width).css({"overflow-x":"hidden"})}},_renderMenu:function(A,B){var C=this;D.each(B,function(I,J){C._renderItem(A,J)})},_renderItem:function(B,A){return D("<li></li>").data("item.autocomplete",A).append(D("<a></a>").text(A.label)).appendTo(B)},_move:function(A,B){if(!this.menu.element.is(":visible")){this.search(null,B);return}if(this.menu.first()&&/^previous/.test(A)||this.menu.last()&&/^next/.test(A)){this.element.val(this.term);this.menu.deactivate();return}this.menu[A](B)},widget:function(){return this.menu.element}});D.extend(D.ui.autocomplete,{escapeRegex:function(A){return A.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")},filter:function(A,C){var B=new RegExp(D.ui.autocomplete.escapeRegex(C),"i");return D.grep(A,function(H){return B.test(H.label||H.value||H)})}})}(jQuery));(function(B){B.widget("ui.menu",{_create:function(){var A=this;this.element.addClass("ui-menu ui-widget ui-widget-content ui-corner-all").attr({role:"listbox","aria-activedescendant":"ui-active-menuitem"}).click(function(D){if(!B(D.target).closest(".ui-menu-item a").length){return}D.preventDefault();A.select(D)});this.refresh()},refresh:function(){var D=this;var A=this.element.children("li:not(.ui-menu-item):has(a)").addClass("ui-menu-item").attr("role","menuitem");A.children("a").addClass("ui-corner-all").attr("tabindex",-1).mouseenter(function(C){D.activate(C,B(this).parent())}).mouseleave(function(){D.deactivate()})},activate:function(J,A){this.deactivate();if(this.hasScroll()){var G=A.offset().top-this.element.offset().top,H=this.element.scrollTop(),I=this.element.height();if(G<0){this.element.scrollTop(H+G)}else{if(G>=I){this.element.scrollTop(H+G-I+A.height())}}}this.active=A.eq(0).children("a").addClass("ui-state-hover").attr("id","ui-active-menuitem").end();this._trigger("focus",J,{item:A})},deactivate:function(){if(!this.active){return}this.active.children("a").removeClass("ui-state-hover").removeAttr("id");this._trigger("blur");this.active=null},next:function(A){this.move("next",".ui-menu-item:first",A)},previous:function(A){this.move("prev",".ui-menu-item:last",A)},first:function(){return this.active&&!this.active.prevAll(".ui-menu-item").length},last:function(){return this.active&&!this.active.nextAll(".ui-menu-item").length},move:function(H,G,A){if(!this.active){this.activate(A,this.element.children(G));return}var F=this.active[H+"All"](".ui-menu-item").eq(0);if(F.length){this.activate(A,F)}else{this.activate(A,this.element.children(G))}},nextPage:function(F){if(this.hasScroll()){if(!this.active||this.last()){this.activate(F,this.element.children(".ui-menu-item:first"));return}var G=this.active.offset().top,A=this.element.height(),H=this.element.children(".ui-menu-item").filter(function(){var C=B(this).offset().top-G-A+B(this).height();return C<10&&C>-10});if(!H.length){H=this.element.children(".ui-menu-item:last")}this.activate(F,H)}else{this.activate(F,this.element.children(".ui-menu-item").filter(!this.active||this.last()?":first":":last"))}},previousPage:function(A){if(this.hasScroll()){if(!this.active||this.first()){this.activate(A,this.element.children(".ui-menu-item:last"));return}var E=this.active.offset().top,F=this.element.height();result=this.element.children(".ui-menu-item").filter(function(){var C=B(this).offset().top-E+F-B(this).height();return C<10&&C>-10});if(!result.length){result=this.element.children(".ui-menu-item:first")}this.activate(A,result)}else{this.activate(A,this.element.children(".ui-menu-item").filter(!this.active||this.first()?":last":":first"))}},hasScroll:function(){return this.element.height()<this.element[B.fn.prop?"prop":"attr"]("scrollHeight")},select:function(A){this._trigger("selected",A,{item:this.active})}})}(jQuery));(function(B,A){B.widget("ui.selectable",B.ui.mouse,{options:{appendTo:"body",autoRefresh:true,distance:0,filter:"*",tolerance:"touch"},_create:function(){var C=this;this.element.addClass("ui-selectable");this.dragged=false;var D;this.refresh=function(){D=B(C.options.filter,C.element[0]);D.addClass("ui-selectee");D.each(function(){var E=B(this);var F=E.offset();B.data(this,"selectable-item",{element:this,$element:E,left:F.left,top:F.top,right:F.left+E.outerWidth(),bottom:F.top+E.outerHeight(),startselected:false,selected:E.hasClass("ui-selected"),selecting:E.hasClass("ui-selecting"),unselecting:E.hasClass("ui-unselecting")})})};this.refresh();this.selectees=D.addClass("ui-selectee");this._mouseInit();this.helper=B("<div class='ui-selectable-helper'></div>")},destroy:function(){this.selectees.removeClass("ui-selectee").removeData("selectable-item");this.element.removeClass("ui-selectable ui-selectable-disabled").removeData("selectable").unbind(".selectable");this._mouseDestroy();return this},_mouseStart:function(E){var C=this;this.opos=[E.pageX,E.pageY];if(this.options.disabled){return}var D=this.options;this.selectees=B(D.filter,this.element[0]);this._trigger("start",E);B(D.appendTo).append(this.helper);this.helper.css({"left":E.clientX,"top":E.clientY,"width":0,"height":0});if(D.autoRefresh){this.refresh()}this.selectees.filter(".ui-selected").each(function(){var F=B.data(this,"selectable-item");F.startselected=true;if(!E.metaKey&&!E.ctrlKey){F.$element.removeClass("ui-selected");F.selected=false;F.$element.addClass("ui-unselecting");F.unselecting=true;C._trigger("unselecting",E,{unselecting:F.element})}});B(E.target).parents().andSelf().each(function(){var F=B.data(this,"selectable-item");if(F){var G=(!E.metaKey&&!E.ctrlKey)||!F.$element.hasClass("ui-selected");F.$element.removeClass(G?"ui-unselecting":"ui-selected").addClass(G?"ui-selecting":"ui-unselecting");F.unselecting=!G;F.selecting=G;F.selected=G;if(G){C._trigger("selecting",E,{selecting:F.element})}else{C._trigger("unselecting",E,{unselecting:F.element})}return false}})},_mouseDrag:function(F){var J=this;this.dragged=true;if(this.options.disabled){return}var I=this.options;var C=this.opos[0],D=this.opos[1],E=F.pageX,H=F.pageY;if(C>E){var G=E;E=C;C=G}if(D>H){var G=H;H=D;D=G}this.helper.css({left:C,top:D,width:E-C,height:H-D});this.selectees.each(function(){var K=B.data(this,"selectable-item");if(!K||K.element==J.element[0]){return}var L=false;if(I.tolerance=="touch"){L=(!(K.left>E||K.right<C||K.top>H||K.bottom<D))}else{if(I.tolerance=="fit"){L=(K.left>C&&K.right<E&&K.top>D&&K.bottom<H)}}if(L){if(K.selected){K.$element.removeClass("ui-selected");K.selected=false}if(K.unselecting){K.$element.removeClass("ui-unselecting");K.unselecting=false}if(!K.selecting){K.$element.addClass("ui-selecting");K.selecting=true;J._trigger("selecting",F,{selecting:K.element})}}else{if(K.selecting){if((F.metaKey||F.ctrlKey)&&K.startselected){K.$element.removeClass("ui-selecting");K.selecting=false;K.$element.addClass("ui-selected");K.selected=true}else{K.$element.removeClass("ui-selecting");K.selecting=false;if(K.startselected){K.$element.addClass("ui-unselecting");K.unselecting=true}J._trigger("unselecting",F,{unselecting:K.element})}}if(K.selected){if(!F.metaKey&&!F.ctrlKey&&!K.startselected){K.$element.removeClass("ui-selected");K.selected=false;K.$element.addClass("ui-unselecting");K.unselecting=true;J._trigger("unselecting",F,{unselecting:K.element})}}}});return false},_mouseStop:function(E){var C=this;this.dragged=false;var D=this.options;B(".ui-unselecting",this.element[0]).each(function(){var F=B.data(this,"selectable-item");F.$element.removeClass("ui-unselecting");F.unselecting=false;F.startselected=false;C._trigger("unselected",E,{unselected:F.element})});B(".ui-selecting",this.element[0]).each(function(){var F=B.data(this,"selectable-item");F.$element.removeClass("ui-selecting").addClass("ui-selected");F.selecting=false;F.selected=true;F.startselected=true;C._trigger("selected",E,{selected:F.element})});this._trigger("stop",E);this.helper.remove();return false}});B.extend(B.ui.selectable,{version:"1.8.17"})})(jQuery);